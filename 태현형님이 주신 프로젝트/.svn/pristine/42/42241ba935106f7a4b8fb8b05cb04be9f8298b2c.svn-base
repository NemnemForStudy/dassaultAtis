define("DS/BookmarkEditorWebInWin/BookmarkWebInWin",["DS/i3DXCompass/Data","DS/WAFData/WAFData","DS/PADUtils/PADSettingsMgt","DS/IPClassifyUtil/IPClassifyUtility","DS/WidgetServices/WidgetServices","DS/PADServices/utils/WidgetProxy","UWA/Drivers/Alone","DS/BksStandalone/Ajax"],function(e,n,t,o,i,a,d,r){var s=window.bookmark.params;console.log("Inside BookmarkWebInWin"),widget.setValue("noCompass",!0);var l="boolean"==typeof s.standalone&&s.standalone;widget.setValue("standalone",l),widget.id=Math.round(1e3*Math.random()).toString();var c=s.tenantId||s.tenant;function u(){return new Promise(async e=>{var t=await new Promise(e=>{i.get3DSpaceUrlAsync({onComplete:e})});if(t){var o=t+"/resources/modeler/pno/person?current=true&select=firstname&select=lastname",a={type:"json",method:"GET",headers:{Accept:"application/json"}};a.onComplete=e,a.onFailure=e.bind(null,!1),a.onTimeout=e.bind(null,!1),n.authenticatedRequest(o,a)}else e(null)})}return window.bookmark.params.tenant=c,(c=c||o.getTenantId())&&(widget.setValue("x3dPlatformId",c),t.setSetting("x3dPlatformId",c),a.setValue("x3dPlatformId",c)),new Promise(async n=>{var t=!widget.body;widget.body=widget.body?widget.body:UWA.createElement("div"),widget.body.addClassName("FolderEditor"),widget.body.setStyles({height:"100%",width:"100%",position:"relative","text-align":"initial","z-index":0}),e.initialize({myAppsBaseUrl:s.myAppsUrl,userId:s.userId,passportUrl:"",proxyTicketUrl:""});let o=await u();widget.userId=o.userId,widget.fullName=o.firstname+" "+o.lastname,document.body.getElement("#tempDiv").remove(),t&&widget.body.inject(document.body,"top"),window.top.performance.mark("createWidget_begin");var i=new FolderEditor({widget:widget,defaultSelectionPath:s.defaultSelectionPath,contextID:s.contextID,launchWithReadMode:s.launchWithReadMode,folderToOpen:s.folderToOpen,multiselection:!1!==s.multiselection});1==window.Odt&&(window.swFolderEditor=i),widget.dispatchEvent("onLoad"),widget.dispatchEvent("onResize"),widget.dispatchEvent("onRefresh"),n(i)})}),define("DS/BookmarkEditorWebInWin/BookmarkEditorWebInWin",[],()=>{require(["DS/UWPClientCode/PublicAPI"]);var e=null;for(var n in window.onReady=function(){require(["DS/BookmarkEditorWebInWin/BookmarkWebInWin","DS/WidgetServices/securityContextServices/SecurityContextServices","DS/MessageBus/MessageBus"],function(n){n.then(n=>{e=n,console.log("onReady")})})},window.jsFunction=function(e){console.log(e),window.bookmark="string"==typeof e?JSON.parse(e):e,console.log("jsFunction"),onReady()},window.setCtxMenu=function(n,t,o){e&&e.setCtxMenu(n,t,o)},window.onClearSelection=function(){e&&e.onClearSelection()},window.SelectSearchObjs=function(n){e&&e.insertSelectedSearchObjs(n)},window.exportCmd={onWebInWinFilterChange:function(n){e&&e.onWebInWinFilterChange(n)},expandToBookmark:function(n){if(e&&n){var t="string"==typeof n?JSON.parse(n):n;e.expandToBookmarkExternally(t)}},setFilterOnContent:function(n){if(e){var t=null;t="object"==typeof n?n:t,e.applyExclusiveFilterAndLoadContent(t)}}},exportCmd)window[n]=exportCmd[n];var t=function(){"undefined"!=typeof dscef&&(dscef.sendString('{"operation":"readyForInit"}'),dscef.sendString("isReadyForInit"))},o={onLoad:function(){"undefined"==typeof dscef&&(location.search.contains("test=true")||window.odt)&&require(["DS/BksStandalone/Standalone"],e=>{e({launchWithReadMode:!0,standalone:!0,folderToOpen:"",multiselection:!0}).then(e=>{t(),jsFunction({params:e})})}),t()}};require(["UWA/Widget"],function(e){var n=window.widget=new e;n.addEventOnce("onLoad",o.onLoad.bind(this)),n.dispatchEvent("onLoad")})}),require(["DS/BookmarkEditorWebInWin/BookmarkEditorWebInWin"]);