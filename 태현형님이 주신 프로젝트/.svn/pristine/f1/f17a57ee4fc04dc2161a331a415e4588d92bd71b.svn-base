define("DS/3DPlayWidgetViews/W3DPlayMainView",["DS/CoreEvents/Events","DS/WebSystem/Environment","UWA/Class","css!DS/3DPlayWidget/assets/3DPlayWidget","DS/WebUtils/StringUtils","DS/WebSystem/Nls","i18n!DS/3DPlay/assets/nls/3DPlay"],function(e,t,i,n,s,a,o){"use strict";var r,l,c,d,h,p=[],u=!1;return i.extend({init:function(e,t){r=e,l=t,c=this,this.buildView(),this.createBlueBackground(),this.declareAllSubscribers()},buildView:function(){r.body.setStyle("height","100%"),this.buildCanvas()},buildCanvas:function(){if(l.applicationFrameOptions&&l.applicationFrameOptions.options&&(u=void 0!==l.applicationFrameOptions.options.pad3DViewer),this.canvasDiv=u&&l.applicationFrameOptions.options.appMainDiv?l.applicationFrameOptions.options.appMainDiv:document.getElementById("canvas-div"),!this.canvasDiv)if(this.canvasDiv=document.getElementById("canvas-div"),this.canvasDiv||(this.canvasDiv=UWA.createElement("div",{class:"appMain",id:"canvas-div",html:"",styles:{overflow:"hidden"}})),u){var t=l.applicationFrameOptions.options.pad3DViewer.elements.container;this.canvasDiv.inject(t.parentNode),t.inject(this.canvasDiv)}else this.canvasDiv.inject(r.body);this.canvasDiv.id="canvas-div",this.canvasDiv.setAttribute("data-rec-id","canvasDivID"),this.canvasDiv.style.overflow="hidden",l.setCanvasDiv(this.canvasDiv),e.subscribeOnce({event:"Model.PreferencesReady"},function(e){if(!l.isPreferencesEmpty()){var t=l.getCurrentData();t.displayName&&c.updateWidgetTitle(t.displayName)}}),this.createDragAndDropZone(this.canvasDiv)},createBlueBackground:function(){if(this.backgroundContainer=document.getElementById("background_container"),!this.backgroundContainer){this.backgroundContainer=UWA.createElement("div",{id:"background_container",class:"blue_background_container",styles:{display:"none"}}),this.backgroundContainer.inject(this.canvasDiv),this.backgroundContainer.setContent({tag:"div",class:"background_container_display drop"});var e=l.getBoxMessageText("DROPIT");this.backgroundContainer.addContent({tag:"div",class:"drop_container_display"}),this.backgroundContainer.addContent({tag:"div",class:"drop_container_txt",html:[{tag:"h3",id:"drop_msg",class:"drop_invite_txt font-3dsregular drop",html:e}]})}this.drop_msgDom=this.backgroundContainer.getElement("h3.drop_invite_txt")},hideBlueBackground:function(e){this.backgroundContainer.setStyle("display",e)},displayBlueBackground:function(){this.hideBlueBackground("block")},updateBlueBackgroundMessage:function(e){var t=l.getBoxMessageText(e);this.drop_msgDom.setHTML(t)},create3DPlayInviteContainer:function(){if(this.inviteContainer=document.getElementById("pad_invite"),!this.inviteContainer){this.inviteContainer=UWA.createElement("div",{id:"pad_invite",class:"pad_invite_container",html:"Invite Container",styles:{display:"none"}}),this.inviteContainer.inject(this.canvasDiv,"before");var e=l.getBoxMessageText("DROPIT");this.inviteContainer.setContent([{tag:"div",class:"pad_invite_display drop",html:[{tag:"span",id:"invite_img",class:"pad_invite_img fonticon fonticon-3x fonticon-down-circled"},{tag:"h5",id:"invite_msg",class:"pad_invite_txt font-3dsregular drop",html:e}]}])}this.invite_imgDom=this.inviteContainer.getElement("span.pad_invite_img"),this.invite_msgDom=this.inviteContainer.getElement("h5.pad_invite_txt")},addWidgetNotification:function(e){d?h.addNotif({level:e.level,message:e.message,title:e.title,sticky:e.sticky}):require(["DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],function(t,i){h=t,(d=i).setNotificationManager(t),c.addWidgetNotification(e)})},hideLastWidgetNotification:function(){d&&d.removeLastNotificationDisplayed()},refresh:function(){var e=l.getCurrentData();e.displayName&&this.updateWidgetTitle(e.displayName)},updateWidgetHeight:function(){r.body.setStyle("height","100%")},declareAllSubscribers:function(){p.push(e.subscribe({event:"Model.changeTitle"},function(e){null!=e&&l.setCurrentTitle(e),c.refresh()}))},dispose:function(){c=null,this.removeDragAndDropZone&&this.removeDragAndDropZone(this.canvasDiv);for(var t=0;t<p.length;t++)e.unsubscribe(p[t]);p=[]},createDragAndDropZone:function(i){var n=function(e){this.removeClassName("drag_over_class"),c.hideBlueBackground("none")},a=function(i){i.preventDefault(),this.removeClassName("drag_over_class"),c.hideBlueBackground("none");var n,a=!1;l.drag=!0;try{n=JSON.parse(i.dataTransfer.getData("text"))}catch(e){}if(n)t.isSet("3DPlay.Debug")&&console.log("3DPlay.Debug:W3DPlayMainView.dropFunction",n),n&&n.data&&n.data.items&&n.data.items.length>1&&(a=!0),l.setCurrentContent(n);else if(i.dataTransfer.files&&i.dataTransfer.files.length>0&&void 0!==i.dataTransfer.files[0]){t.isSet("3DPlay.Debug")&&console.log("3DPlay.Debug:W3DPlayMainView.dropFunction",i.dataTransfer.files),a=i.dataTransfer.files.length>1;var r=i.dataTransfer.files[0],d=s.getExtension(r.name),h=["3DXML","PDF","STP","STEP"];t.isSet("3DPlay.STPA")&&h.push("STPA"),t.isSet("3DPlay.AllowDND")||h.indexOf(d.toUpperCase())>-1?e.publish({event:"Player.load",data:{input:{asset:{useConvertors:!1,localFile:r,format:d,filename:window.URL.createObjectURL(r),provider:"FILE",proxyurl:"none",requiredAuth:null,serverurl:""}}}}):(c.hideLastWidgetNotification(),c.addWidgetNotification({level:"error",title:"",message:o.DNDUnSupportedFileType+d,sticky:!1}))}if(a){c.hideLastWidgetNotification();var p={level:"info",title:o.FirstSelectedObjectLoaded_Title,message:o.FirstSelectedObjectLoaded,sticky:!1};if(l&&l.getPlayerRef()&&l.getPlayerRef().getExperience()&&c)l.getPlayerRef().getExperience().subscribeOnce("ASSET/LOADINGSTARTED",function(){c.addWidgetNotification(p)})}},r=function(e){e.preventDefault(),this.addClassName("drag_over_class"),c.displayBlueBackground(),c.updateBlueBackgroundMessage("DROPIT"),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")};i.addEventListener("dragenter",r),i.addEventListener("dragover",r),i.addEventListener("dragleave",n),i.addEventListener("dragend",n),i.addEventListener("drop",a),this.removeDragAndDropZone=function(e){e.removeEventListener("dragenter",r),e.removeEventListener("dragover",r),e.removeEventListener("dragleave",n),e.removeEventListener("dragend",n),e.removeEventListener("drop",a)}},hideShowBoxMessage:function(e){this.inviteContainer.setStyle("display",e)},updateBoxMessage:function(e){var t=l.getBoxClassIcon(e),i=l.getBoxMessageText(e);"DEFAULT"==e?(this.invite_imgDom.removeClassName(t),this.invite_imgDom.addClassName("fonticon-down-circled")):(this.hideShowBoxMessage("block"),this.invite_msgDom.setHTML(i),this.invite_imgDom.removeClassName("fonticon-down-circled"),this.invite_imgDom.addClassName(t))},updateWidgetTitle:function(e){var t="3DPlay";r.setTitle(""),""!=e&&null!=e&&(t=e),r.setTitle(t)}})}),define("DS/3DPlayWidgetViews/W3DPlayLightboxView",["UWA/Class","DS/vuekit/vuekit","DS/vue/vue","DS/ApplicationFrame/CommandsManager","DS/CoreEvents/Events","text!DS/3DPlayWidgetViews/W3DPlayLightboxView.html","i18n!DS/3DPlayHelper/assets/nls/SplashScreen"],function(e,t,i,n,s,a,o){"use strict";var r,l={upload:"Upload3Dexp",comment:"Share3DComment",share:"ShareTo3DSwYm",download:"DownloadPDF",information:"RightSidePanel",saveScreenshot:"ShareDownload",printScreenshot:"SharePrint"};return e.extend({init:function(e){this._parent(e),this._content=e.content,this._createLightbox(e),this._exp=null,this._assetInfo=null,this._ctx=null},dispose:function(){this._exp=null,this._lightbox.hide()},onAssetLoadingStarted:function(e){this._lightbox.clean(),this._lightbox.show(),e&&e.loadAssetInfo&&(this._assetInfo=e.loadAssetInfo,this._updateWithAssetInfo(e.loadAssetInfo))},onAssetLoadingEnd:function(e){this._lightbox.show(),e&&e.loadAssetInfo&&(this._assetInfo=e.loadAssetInfo,this._updateWithAssetInfo(e.loadAssetInfo))},onAssetLoadingError:function(e){this._ctx=e.ctx,this._lightbox.clean(),this._lightbox.show(),e&&e.loadAssetInfo&&(this._assetInfo=e.loadAssetInfo,this._updateWithAssetInfo(e.loadAssetInfo))},setExperience:function(e){this._exp=e,e.lightbox=this,this._exp.subscribe("ASSET/LOADINGSTARTED",this.onAssetLoadingStarted.bind(this),!0),this._exp.subscribe("Model.changeCurrent",this.onAssetLoadingStarted.bind(this),!0),this._exp.subscribe("ASSET/LOADINGFINISHED",this.onAssetLoadingEnd.bind(this),!0),this._exp.subscribe("ASSET/LOADINGERROR",this.onAssetLoadingError.bind(this),!0),this._exp.subscribe("EXPERIENCE/ERROR",this.onAssetLoadingError.bind(this),!0),this._assetInfo&&(this._lightbox.show(),this._updateWithAssetInfo(this._assetInfo))},getContainer:function(){return this._container},onUploadCompleted:function(){this._lightbox.hideAllActions(),this._lightbox.setPlatformContentMode()},update:function(){this._assetInfo&&this._updateWithAssetInfo(this._assetInfo)},_createLightbox:function(e){var t=e.parentHTML?e.parentHTML:document.body,n=e.idHTML?e.idHTML:"vue-lightbox";document.getElementsByClassName("vu-lightbox")[0]||(this._container=UWA.createElement("div"),this._container.id=n,t.prepend(this._container),r=null),r||(r=new i({el:"#"+n,template:a,data:function(){return{title:"",objectType:{name:"3d-object",icon:"3d-object",backgroundColor:"#70036b"},actions:[{name:"upload",label:o.Lightbox_Upload,fonticon:"upload",selected:!1,hidden:!0},{name:"comment",label:o.Lightbox_Comment,fonticon:"comment",selected:!1,hidden:!0},{name:"share",label:o.Lightbox_Share,fonticon:"share-alt",selected:!1,hidden:!0},{name:"download",label:o.Lightbox_Download,fonticon:"download",selected:!1,hidden:!0},{name:"information",label:o.Lightbox_Information,fonticon:"info",selected:!1,hidden:!0}],moreMenuActions:[]}},methods:{show:function(){var e=this.$el.querySelector(".lightbox-bar--widget-header");e&&(e.style.display="inherit")},hide:function(){var e=this.$el.querySelector(".lightbox-bar--widget-header");e&&(e.style.display="none")},clean:function(){this.hideAllActions(),this.title=""},showAction:function(e){c(l[e],this._exp)&&(this._lightbox.actions.find(t=>t.name==e).hidden=!1)}.bind(this),onClickClose:function(){if(this._exp)this._exp.toggleSplash(!0),this._exp.clearView();else{var e=this._ctx;require(["DS/WebUtils/ContextedSingleton"],function(t){var i=t.get(e,"helper");i&&i.playerSplashScreen})}this._lightbox.clean(),this._lightbox.hide(),widget.setValue("W3DPlayContent",""),widget.welcomeScreen.show(),widget.setTitle("")}.bind(this),onClickUpload:function(){d("Upload3Dexp",this._exp)}.bind(this),onClickComment:function(){d("Share3DComment",this._exp)}.bind(this),onClickShare:function(){d("ShareTo3DSwYm",this._exp)}.bind(this),onClickDownload:function(){d("DownloadPDF",this._exp)}.bind(this),onClickInformation:function(){d("RightSidePanel",this._exp)}.bind(this),onClickSaveScreenshot:function(){d("ShareDownload",this._exp)}.bind(this),onClickPrintScreenshot:function(){d("SharePrint",this._exp)}.bind(this),setFileMode:function(){this._lightbox.showAction("upload"),this._lightbox.showAction("information")}.bind(this),setPlatformContentMode:function(){this._lightbox.showAction("comment"),this._lightbox.showAction("share"),this._lightbox.showAction("information"),this._lightbox.moreMenuActions=function(e,t){if(c(l.saveScreenshot,t)&&c(l.printScreenshot,t))return[{name:"saveScreenshot",text:o.Lightbox_Save_Screenshot,handler:e.onClickSaveScreenshot},{name:"printScreenshot",text:o.Lightbox_Print_Screenshot,handler:e.onClickPrintScreenshot}];return[]}(this._lightbox,this._exp)}.bind(this),setPDFMode:function(){this._lightbox.showAction("download"),function(e){if(e.frmWindow)try{e.frmWindow.getActionBar().getContent().querySelector("[data-name=DownloadPDF]").hide()}catch(e){console.warn("Lightbox: no Download command to hide from ActionBar")}}(this._exp)}.bind(this),hideAllActions:function(){this.actions.forEach(function(e){e.hidden=!0}),this.moreMenuActions=[]}},mounted:function(){var t,i;t=this,i=e.content,t.$refs.W3DPlayLightboxContentRef.appendChild(i),t.hide()}})),this._lightbox=r},_updateWithAssetInfo:function(e){switch(this._lightbox.title=function(e){var t=null;e.localFile&&e.localFile.name?t=e.localFile.name:e.originalAsset&&e.originalAsset.displayname?t=e.originalAsset.displayname:e.displayname?t=e.displayname:e.displayName?t=e.displayName:e.fileAttr&&e.fileAttr.title?t=e.fileAttr.title:e.driveAttr&&e.driveAttr.title?t=e.driveAttr.title:e.swymAttr&&e.swymAttr.title&&(t=e.swymAttr.title);return t}(e),this._lightbox.hideAllActions(),function(e){if(e.localFile&&-1===["STPA"].indexOf(e.format.toUpperCase())||e.fileAttr)return"FILE";if("EV6"==e.provider||e.originalAsset&&"EV6"==e.originalAsset.provider)return"3DSPACE";if(e.driveAttr)return"3DDRIVE";if(e.swymAttr)return"3DSWYM";if(e.originalAsset)return e.originalAsset.provider;return""}(e)){case"FILE":this._lightbox.setFileMode();break;case"3DDRIVE":case"3DSWYM":case"3DSPACE":this._lightbox.setPlatformContentMode()}this._exp&&this._exp.showDownloadCommand&&this._lightbox.setPDFMode()}});function c(e,t){if(t&&e){if(n.getCommand(e,t.ctx))return!0;if(n.getCommandCheckHeader(e,t.ctx))return!0}return!1}function d(e,t){if(t&&e){t.viewer&&t.viewer.launchReviewMode&&t.viewer.launchReviewMode();var i=n.getCommand(e,t.ctx);if(i)return void i.begin();if(i=n.getCommandCheckHeader(e,t.ctx))return void i.setState(!0);console.warn("Can not launch command from lightbox: command "+e+" not found")}}}),define("DS/3DPlayWidgetViews/W3DPlayerView",["DS/CoreEvents/Events","UWA/Class","DS/3DPlayHelper/3DPlayHelper","DS/3DPlaySupport/AssetSupport","i18n!DS/3DPlayHelper/assets/nls/SplashScreen","css!DS/3DPlayWidgetViews/W3DPlayerView","DS/WebSystem/Environment","DS/WebappsUtils/WebappsUtils","DS/WebUtils/Tracker","DS/Windows/ImmersiveFrame","DS/Controls/Button","DS/Controls/Expander","DS/Windows/Panel","DS/WebUtils/WebServices","DS/Controls/ThumbnailView","DS/WelcomeScreenView/WelcomeScreen","DS/WelcomeScreenView/WelcomeScreenButtonController","DS/WelcomeScreenView/WelcomeScreenMRUController","DS/3DPlayWidgetViews/W3DPlayLightboxView"],function(e,t,i,n,s,a,o,r,l,c,d,h,p,u,g,m,f,v,b){"use strict";var D,S,y,_,x=[];return t.extend({init:function(t,i){D=t,S=i,o.isSet("ODT_MODE")||window.__karma__||(this.lightbox=new b({content:S.getCanvasDiv(),parentHTML:D.body})),this._parent(t,i),_=this,x.push(e.subscribeOnce({event:"PrefsCtrl.PreferencesReady"},function(e){_.instantiate3DPlayWebPlayer()})),x.push(e.subscribe({event:"Player.load"},function(e){y&&(y.load(e),e&&e.input&&e.input.asset&&e.input.asset.localFile&&D.setTitle(e.input.asset.localFile.name))})),x.push(e.subscribe({event:"Model.changeCurrent"},function(e){if(_.instantiate3DPlayWebPlayer(),_.lightbox){var t={};e&&e.data&&e.data.items&&e.data.items.length&&(t.loadAssetInfo=e.data.items[0]),_.lightbox.onAssetLoadingStarted(t)}})),x.push(e.subscribe({event:"Model.changeCSO"},function(e){var t;y.instance&&y.instance.pad3DViewer&&(t=y.instance.pad3DViewer._lockCSONotification,y.instance.pad3DViewer._lockCSONotification=!0),y.emptySelection(),y.selectNode(e);setTimeout(function(){y.instance&&y.instance.pad3DViewer&&(y.instance.pad3DViewer._lockCSONotification=t)},50)}))},instantiate3DPlayWebPlayer:function(e){var t=S.getCurrentData();o.isSet("3DPlay.Debug")&&console.log("3DPlay.Debug:instantiate3DPlayWebPlayer",t),t.displayName?S.setCurrentTitle(t.displayName):D.setTitle(""),S.get3DPlayWebInputObject(t,function(i){i.container=S.getCanvasDiv(),!i.input.asset&&e?i.input.asset=e:i.input&&i.input.asset&&(i.input.asset.displayname=t.displayName),_.startPlayer(i)})},dispose:function(t){y&&(y.dispose(t),y=null),D=null,S=null,_=null;for(var i=0;i<x.length;i++)e.unsubscribe(x[i]);x=[],this.lightbox&&(this.lightbox.dispose(),this.lightbox=null)},startPlayer:function(e){if(this.applicationFrameOptions&&e.options&&(e.options.callbacks&&(e.options.callbacks=UWA.extend(e.options.callbacks,this.applicationFrameOptions.options.callbacks,!0)),e.options=UWA.extend(e.options,this.applicationFrameOptions.options,!0),e.input&&this.applicationFrameOptions.experience&&(e.input.experience=this.applicationFrameOptions.experience,delete this.applicationFrameOptions.experience)),this.applicationFrameOptions&&this.applicationFrameOptions.options&&this.applicationFrameOptions.options.pad3DViewer&&delete this.applicationFrameOptions.options.pad3DViewer,y)y.isReady()?y.load(e):S.isPendingLoadingCozNotReady=!0;else{if(e.options.callbacks.EXPERIENCE=e.options.callbacks.EXPERIENCE||{},this.lightbox){e.options.callbacks.EXPERIENCE.ExperienceReady=function(e){this.lightbox.setExperience(e)}.bind(this),e.options.callbacks.EXPERIENCE.Error=function(e){this.lightbox.onAssetLoadingError(e)}.bind(this),e.options.callbacks.ASSET||(e.options.callbacks.ASSET={});var t=e.options.callbacks.ASSET.LOADINGFINISHED;e.options.callbacks.ASSET.LOADINGFINISHED=function(e){t&&t(e),this.lightbox.onAssetLoadingEnd(e)}.bind(this);var n=e.options.callbacks.ASSET.LOADINGSTARTED;e.options.callbacks.ASSET.LOADINGSTARTED=function(e){n&&n(e),this.lightbox.onAssetLoadingStarted(e)}.bind(this);var a=e.options.callbacks.ASSET.LOADINGERROR;e.options.callbacks.ASSET.LOADINGERROR=function(e){a&&a(e),this.lightbox.onAssetLoadingError(e)}.bind(this)}e.options.callbacks.EXPERIENCE.EXPERIENCESPLASHSCREEN=function(e){if(!o.isSet("3DPlay.LandingPage.disable")){var t=e.elements.container;t.addClassName("Landing-Page_container");var i="",n="https://help.3ds.com/2023x/"+{en:"English",fr:"French",de:"German",ja:"Japanese",zh:"Simplified_Chinese",es:"Spanish",ko:"Korean",ru:"Russian",it:"Italian","pt-BR":"Portuguese_Brazil","zh-TW":"Traditional_Chinese",pl:"Polish",cs:"Czech"}[D.lang]+"/DSDoc/X3dplawWidgetMap/X3dplaw-c-ov.htm";document.location.host.includes("215dsi0708")?(!0,i="https://dsext001-eu1-215dsi0708-3dswym.3dexperience.3ds.com/#community:1309"):(!0,i="https://r1132100503382-eu1-3dswym.3dexperience.3ds.com/#community:4");let a=new m({title:"3DPlay",subtitle:s.Play_Subtitle,background:r.getWebappsBaseUrl()+"3DPlayWidgetViews/assets/images/3DPlayHomePage.png",linksCategories:[{id:"ContentAndKnowledge",i18n:{title:s.Content_And_Knowledge},links:[{id:"UserAssistance",i18n:{title:s.User_Assistance},icon:"i-question",url:n},{id:"WhatsNew",i18n:{title:s.Whats_New},icon:"megaphone",url:"https://media.3ds.com/catia/Immersive_Whats_New/Apps/3DPlay/index.html"}]},{id:"SocialNetworks",i18n:{title:s.Social_Networks},links:[{id:"Community",i18n:{title:s.Community},icon:"topbar-users",url:i}]}],buttons:{items:[{id:"OpenContent",icon:"open",i18n:{title:s.Open_Content},controller:new f({onAction:e=>(require(["DS/PADServices/utils/SearchUtils"],function(e){var t={title:"Open Content",precond:"(types/Document OR types/File OR types/CATProduct OR types/CATPart OR types/Products OR types/DOCUMENTS OR types/Part)",search_criteria_to_display:"",showApplyButton:!1,applyButton_Nls:"",callback:function(e){var t=e[0].sourceid.split(":")[0];if("3dspace"===t)var i={provider:e[0].sourceid.split(":")[0],serviceId:e[0].sourceid.split(":")[0],objectId:e[0].id,serverurl:S.availableServices[0].url,objectType:e[0]["ds6w:type_value"],displayName:e[0]["ds6w:label"],displayType:e[0]["ds6w:type"],requiredAuth:"passport",envId:e[0].sourceid.split(":")[1],contextid:e[0].contextid};else if("drive"===t)i={displayName:e[0]["ds6w:label"],serviceId:e[0]["ds6w:dataSource"],objectId:e[0].id,provider:e[0]["ds6w:dataSource"],physicalid:e[0].id,requiredAuth:"passport",objectType:e[0]["ds6w:type_value"],envId:e[0].sourceid.split(":")[1]};else if("3DSwym"===t)i={displayName:e[0]["ds6w:label"],objectId:e[0].id,provider:t,serviceId:t,envId:e[0].sourceid.split(":")[1],tenant:e[0].sourceid.split(":")[1],type:e[0]["ds6w:type_value"]};S.setCurrentContentFromPublishedFile(i),_.instantiate3DPlayWebPlayer(i)},cancel:function(e){}};e.inAppsSearch(t)}),Promise.resolve())})},{id:"MostRecentContent",i18n:{title:s.Most_Recent_Content},icon:"search-recent",hasCustomContent:!0,controller:new f({onAction:e=>{var t=document.createElement("div"),i=new c;i.inject(t),i.elements.container.style.setProperty("position","relative");document.createElement("div");var n=[];return u.myAppsPreference({preferenceName:"mru3dplay",onComplete:function(e){var i=JSON.parse(e);i=i.reverse(),i,0<i.length&&i.forEach(function(e){var i=e.data.items[0],s=new g({size:"small"}).inject(t);i.title||(i.title=i.displayName),i.image||(i.image=i.displayPreview),s.setTitle(i.title),s.setSubtitle(i.displayType),s.setPicture(i.image),s.elements.menu.remove(),s.elements.badgeBottomRight.remove(),s.elements.badgeTopRight.remove(),s.elements.checkbox.remove(),s.asset=i,s.content=e,s.onClick(function(e){s.asset.displayName&&S.setCurrentTitle(s.asset.displayName);s.asset;S.setCurrentContent(s.content,!1)}),n.push(s)})},onFailure:function(){}}),Promise.resolve(t)}})}]},MRU:{items:[],controller:new v({onDblHit:e=>{console.log("Double Hit on ${cellInfo.nodeModel.options.label}")},onContextualMenu:e=>{}})},dragAndDrop:{callbacks:{onDragEnter:e=>Promise.resolve("OverFullPage"),onDrop:e=>{console.log("Object Drop")}}}});t.prepend(a.getDOM()),D.welcomeScreen=a}},y=new i(e)}S.setPlayerRef(y)},widgetRefreshHandler:function(){var e;if(y){y.instance&&y.instance.refresh&&(e=y.instance.refresh());try{var t=y.instance.args.input.experience.filename||y.instance.args.input.experience;l.trackPageEvent("infos","refresh",t,e?1:0,{count:l.incCommandCounter()})}catch(e){}if(e)return!0;y.dispose(),y=null}return S.getCanvasDiv().empty(),!1},search:function(e){y&&y.instance&&y.instance.search&&y.instance.search(e)},resetsearch:function(e){y&&y.instance&&y.instance.resetsearch&&y.instance.resetsearch(e)}})});