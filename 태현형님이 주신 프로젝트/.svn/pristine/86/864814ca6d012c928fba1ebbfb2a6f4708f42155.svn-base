define("DS/XSRCommonComponents/components/EditProp/XSpecProperties",["UWA/Core","DS/EditPropWidget/EditPropWidget","DS/EditPropWidget/constants/EditPropConstants","DS/EditPropWidget/models/EditPropModel","DS/XSRCommonComponents/utils/Constants","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/Utils","DS/XSRCommonComponents/utils/TypeUtils","i18n!DS/XSRCommonComponents/assets/nls/XSRCommonComponents","css!DS/XSRCommonComponents/components/EditProp/XSpecProperties.css"],function(e,t,i,n,o,s,a,r,c){"use strict";var p={Change:i.FACET_CHANGE,Properties:i.FACET_PROPERTIES,Comments:i.FACET_SWYMCOMMENTS},d=function(){};return d.prototype.init=function(n){var o=n.id,a=n.container;this.selectedItemID=o;var r=n.specModel;this.specModel=r;var c=!!n.readOnly&&n.readOnly,d=!!n.editMode&&n.editMode,l=n.execludeIDCard,m=[];if(n.facets)for(var u=n.facets.length,C=0;C<u;C++)"Change"===n.facets[C]?m.push({id:i.FACET_CHANGE,options:{readOnly:!n.enableChangeRequired}}):m.push({id:p[n.facets[C]]});else m.push(i.FACET_PROPERTIES),m.push(i.FACET_SWYMCOMMENTS);this.container=e.createElement("div",{class:"xsr-properties-container"}),this.container.inject(a);var S=l?i.ONLY_EDIT_PROPERTIES:i.ALL,h=s.getSecurityContext().replace("ctx::",""),M={typeOfDisplay:S,selectionType:i.NO_SELECTION,facets:m,readOnly:c,extraNotif:!0,editMode:d,context:{getSecurityContext:function(){return{SecurityContext:h}}}};this.editPropView=new t(M);var E=this.getPropModel(n);return this.editPropView.initDatas(E),this.editPropView.elements.container.inject(this.container),this.editPropView.elements.container.onResize(),this.editPropView},d.prototype._addCustomFacet=function(e,t){var i=!1;this.specModel&&this.specModel.getTypeActualName()&&(t==o.IDCARD||r.isRawMaterial(this.specModel.getTypeActualName())?r.isRawMaterial(this.specModel.getTypeActualName())&&(i=!1):i=!0),this.mfgSecurityContext=s.getSecurityContext().replace("ctx::",""),a.isPerformanceChar(this.specModel.getTypeActualName())?this.editPropView.addFacets([{require:"DS/ENOCharacteristicsApp/view/TestMethodFacet",alwaysVisible:!0,services:["3DSpace"],inheritance:!0,content:null,facet:{name:"testMethods",icon:"molecule-candidate",text:c.label_TestMethod},options:{appContext:e,itemModel:this.specModel,itemId:this.selectedItemID,appId:o.XSR_APP_ID}}]):this.editPropView.addFacets([{require:"DS/ENOXAlternateSubstitute/facets/AlternateFacet",alwaysVisible:!0,services:["3DSpace"],inheritance:!0,content:null,facet:{name:"alternateFacet",icon:"exchange",text:c.label_Alternates},options:{appContext:e}},{require:"DS/DELPPWFacets/facets/ManufacturingIntentFacet",inheritance:!0,alwaysVisible:!0,services:["3DSpace"],actions:[{name:"Add",text:c.Add,icon:"fonticon fonticon-plus"}],content:null,facet:{name:"ManufactureIntent",icon:"factory",text:c.Manufacture_Facet_Title},options:{appContext:e,securityContext:this.mfgSecurityContext,immersiveFrame:e.immersiveFrame}},{require:"DS/ENOMadeFromUX/view/MBMFFacet",alwaysVisible:i,services:["3DSpace"],inheritance:!0,content:null,facet:{name:"specsMadeFromFacet",icon:"part-made-from",text:c.label_MakeFrom},options:{appContext:e,itemModel:this.specModel,itemId:this.selectedItemID,appId:o.XSR_APP_ID}}])},d.prototype.getPropModel=function(e){var t=null,i=[];return i.push({metatype:e.metatype||"businessobject",objectId:e.id,tenant:s.getPlatformId(),source:o.SERVICE_3DSPACE_NAME}),(t=new n(i)).set("isTransient",!1),t.set("showSections",!1),i},d.prototype.destroy=function(){},d});