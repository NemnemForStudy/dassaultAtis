################################################################################################
# Created By thok : 2023. 05. 18
# Admin Type : command
# Name : decCreateOngoingProjectIn
################################################################################################
#delete command decCreateOngoingProjectIn;
add command 'decCreateOngoingProjectIn' 
	description 'Create Ongoing Project'
	alt 'emxProgramCentral.Common.CreateOngoingProject' 
	label 'emxProgramCentral.Common.CreateOngoingProject' 
	href '${COMMON_DIR}/emxCreate.jsp?typeChooser=false&SelectType=single&ReloadOpener=true&nameField=keyin&autoNameChecked=false&type=type_ProjectSpace&policy=policy_ProjectSpace&form=decCreateOngoingProjectSpaceForm&mode=create&createJPO=emxProjectSpace:createNewProject&postProcessURL=../programcentral/emxProgramCentralUtil.jsp?mode=launchProject&submitAction=nothing&HelpMarker=emxhelpprojectdetailsspecify&findMxLink=false&showPageURLIcon=false&suiteKey=ProgramCentral&StringResourceFileId=emxProgramCentralStringResource&SuiteDirectory=programcentral&preProcessJavaScript=setFocusOnNameField&header=emxProgramCentral.Common.CreateOngoingProject&createProject=Blank&decProjectType=ongoing'
	setting 'Image' '${COMMON_DIR}/images/iconActionCreate.png'
	setting 'Registered Suite' 'ProgramCentral'
	setting 'Licensed Product' ENO_PRF_TP
	setting 'Popup Modal' true
	setting 'Registered Suite' ProgramCentral
	setting 'Slidein Width' 500
	setting 'Target Location' slidein
	setting 'Access Expression' '(current==Complete)&& (attribute[decProjectType]==bidding) && (admin_platform==context.user || owner==context.user)'
;
add property command_decCreateOngoingProjectIn on program eServiceSchemaVariableMapping.tcl to command 'decCreateOngoingProjectIn'
;

# Modified by thok on 2023.07.26 
mod command decCreateOngoingProjectIn
	add setting 'Access Expression' '(attribute[decProjectStatus]==Win) && (context.user.isassigned[decSystemAdmin])'
;

# Modified by thok on 2023.09.09 
mod command decCreateOngoingProjectIn
	add setting 'Access Expression' '(attribute[decProjectStatus]==Win)'
	add setting 'hasAccess' 'PIM'
	add setting 'Access Program' 'decAccess' 
	add setting 'Access Function' 'hasAccess'
;