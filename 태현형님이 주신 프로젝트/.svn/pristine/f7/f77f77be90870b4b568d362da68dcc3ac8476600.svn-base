define("DS/DELWebViewerController/BehaviorFactory",[],function(){"use strict";return function(e,t,n){var r={},i={ToolbarBehavior:"DS/DELWebViewerToolbar/ToolbarController",BuildUpBehavior:"DS/DELWebViewerBuildUpController/BuildUpController",WorkInstructionBehavior:"DS/DELWebViewerWorkInstructionController/WorkInstructionController"};return{getCreatePromise:function(o){var a=this;return new Promise(function(s,l){var u,c=[null,a,e,t,n].concat(Array.prototype.slice.call(arguments,1));UWA.is(o,"array")&&o.length>0?(u=o.map(function(e){return i[e]}))instanceof Array?require(u,function(){var e=Array.prototype.slice.call(arguments);e.length>0&&e.forEach(function(e,t){r[o[t]]=new(Function.prototype.bind.apply(e,c))}),s(r)}):l(n.getNLSValue("Error.InvalidInput.Message")):s(r)})},getInstance:function(e){return e&&r[e]?r[e]:null},reset:function(){Object.values(r).forEach(function(e){e.reset&&e.reset()})},destroy:function(){Object.values(r).forEach(function(e){e.destroy&&e.destroy()}),r={}}}}}),define("DS/DELWebViewerController/facets/LinkFacetController",["UWA/Core","UWA/Controls/Abstract","UWA/Class","DS/DELWebUiComponent/LinkFacetView","DS/DELPPRData/WebService","DS/Selection/CSOManager","DS/DEL3DViewer/NodeUtil","DS/DELWebViewerUtils/Utils","DS/EditPropWidget/facets/Common/FacetsBase"],function(e,t,n,r,i,o,a,s,l){"use strict";const u="DELFmiProcessImplementCnx",c="DELFmiProcessOutputPrereqMaterializationCnx",g="Provide";return n.extend(t,l,{init:function(e){this._parent(e),this.linkFacetView=new r(this.elements),this.logger=e.logger},updateFacet:function(){var t,n,r,i,s,l,f,p,h=this,d=o.get(),D=d.length>0?d[0].pathElement:null;if(0!==d.length){for(this.linkFacetView.hide();D&&!a.isPLMNode(D.getLastElement(!0));)D=D.getParentPath();D&&(a.isInstance(D.getLastElement(!0))||(p=D.getParentPath().getLastElement(!0),r=a.getNodeID(p),i=a.getNodeType(p))),(l=D&&D.getParentPath()?D.getParentPath().getParentPath():null)&&(s=a.getNodeID(l.getLastElement()),f=a.getNodeType(l.getLastElement())),i!==u&&i!==c||f!==g||(t={lIds:[],relIDs:[r],busIDs:[],plmparameters:"false",attributes:"true",navigateToMain:"true",readonly:"true",debug_properties:""},n={lIds:[],relIDs:[],busIDs:[s],plmparameters:"false",attributes:"true",navigateToMain:"true",readonly:"true",debug_properties:""},e.Promise.all([this._webServiceCall(t),this._webServiceCall(n)]).then(function(e){h.linkFacetView.updateUI({linkInfo:h._parseData(e[0]),provideInfo:h._parseData(e[1])})}).fail(function(){h.logger.error("Unable to get attribute information due to web service call failed")}))}},destroyComponent:function(){this.linkFacetView.destroy()},onResize:function(){this.updateFacet()},onRefresh:function(){this.updateFacet()},_webServiceCall:function(t){var n=`${s.get3DSpaceUrl()}/resources/v1/collabServices/attributes/op/read`;return new e.Promise(function(e,r){i.request({url:n,method:"POST",dataType:"json",payload:t}).then(e).fail(r)})},_parseData:function(t){var n={results:[]};return t&&e.is(t.results,"array")&&t.results.length>0&&(t.results[0].data.forEach(function(e){n.results.push(e)}),t.results[0].basicData.forEach(function(e){n.results.push(e)}),n.typeIconUrl=t.results[0].type_icon_url),n.results.sort(function(e,t){return e.UIPosition-t.UIPosition}),n},show:function(){this.getUI().show()},hide:function(){this.getUI().hide()}})}),define("DS/DELWebViewerController/DELWebViewerHighlightManager",["UWA/Core","DS/Selection/CSOManager","DS/Selection/HSOManager","DS/Selection/PSOManager"],function(e,t,n,r){"use strict";return function(i,o){var a,s,l,u=i.getInstance("BuildUpBehavior"),c=function(t){(t=e.is(t,"array")&&t.length>0?t:[t]).forEach(t=>{!function(t){var n,r,i,a,s;if(t.event&&("Mouse"===t.event.type||"Touch"===t.event.type)&&u&&(n=u.getCurrentBuildUpContent())&&e.is(n.graphicData,"array")&&n.graphicData.length>0)for(s=(i=n.graphicData).length,a=o.getContext().streamPath(t.pathElement).toString(),r=0;r<s;r++)if(!0===i[r].visibility&&-1!==a.indexOf(i[r].path.toString())){t.pathElement=o.getContext().unstreamPath(i[r].path);break}}(t)})};return a||(a=n.onPreAdd(c)),s||(s=r.onPreAdd(c)),l||(l=t.onPreAdd(c)),{destroy:function(){a&&n.unsubscribe(a),s&&r.unsubscribe(s),l&&t.unsubscribe(l),a=s=l=null}}}}),define("DS/DELWebViewerController/Controller",["UWA/Core","UWA/Class/Promise","UWA/Class/Options","DS/DELWebViewerLogger/Logger","DS/DELWebViewerEvents/EventCollection","DS/DELPPRData/ModelInterface","DS/DEL3DViewer/ViewerInterface","DS/DELWebViewerController/BehaviorFactory","DS/DELWebViewerPerformaceLogger/PerformaceLogger","DS/DELWebViewerEventManager/ComponentEventHandler","DS/DELWebViewerProxyManager/ProxyManager","DS/DELWebViewerResourceUtils/ResourceUtils","DS/DELWebViewerPreferences/Preferences","DS/DELWebViewerUtils/DELWebViewerSettingsMgt","DS/DELWebViewerUtils/Utils","DS/DELWebViewerController/DELWebViewerHighlightManager"],function(e,t,n,r,i,o,a,s,l,u,c,g,f,p,h,d){"use strict";return function(h,D,w){var v,b,m,E,S,C,L,P,V,y,W,I,U,B=new n,O=new r,k={MfgItemsViewer:[],ProcessViewer:["BuildUpBehavior","ToolbarBehavior"],WorkInstructionViewer:["BuildUpBehavior","ToolbarBehavior","WorkInstructionBehavior"]};return B.setOptions(h),U=(U=localStorage?localStorage.getItem("LoggerSeverity"):null)||B.getOption("loggerSeverity"),O.setLoggerSeverity(U),B.setOption("logger",O),!0!==B.getOption("performanceLogging")&&"true"!==localStorage.getItem("PerformanceLogging")||(l.setOptions(B),l.initPerfObserver()),b=new i(B),B.setOption("eventCollection",b),m=new g(w),Object.assign(B,m),E=new f(m),Object.assign(B,E),L=B.getOption("viewerType"),O.info("********** Viewer Component Initialization Started (Type:%s) **************",Object.keys(k)[L]),l.markStart("DELWebViewerComponent"),I=[function(){var e,t;return v=new o(B),e=L,t={},Object.entries(D).some(function([n,r]){return r===e&&(t.name=n,t.viewerBehaviors=k[n],!0)}),C=t,v.getCreatePromise(C.viewerBehaviors)},function(){return new t(function(e,t){S=new a(B,e,t)}).fail(function(e){throw O.error("ViewerInterface initialization failed.",e),e})}].map(e=>e()),t.all(I).then(function(){return(P=new s(S,v,B)).getCreatePromise(C.viewerBehaviors)}).then(function(){return new t(function(e){V=new c(P,S,v,B),W=new u(V,B),e(V)})}).then(function(){var t;(t=p.getDELViewerSetting("displayLastIndexedTimeStamp"))&&t.value&&S.subscribe(b.getViewerCtrlEventHnd().events.onExpandCompleted,function(){v.getIndexingDate(t.service).then(function(n){var r=Number(n[t.service].allvaultsacl);e.is(r)&&S.setIndexingTime(r)}).fail(function(e){O.error(B.getNLSValue(e))})}),L>0&&(y=new d(P,S)),b.getComponentEventHnd().publish(b.getComponentEventHnd().events.onReady),l.markEnd("DELWebViewerComponent","Time taken to initialize the component"),O.info("********** Viewer Component Initialization Completed (Type:%s) **************",Object.keys(k)[L])}).fail(function(e){O.error("Component initialization failed due to : %o",e)}),{getViewer:function(){return S.getViewerElement()},getEventHnd:function(){return b.getComponentEventHnd()},getViewerBehavior:function(){return V},destroy:function(){[V,W,P,S,v,b,m,y].forEach(e=>{e&&e.destroy()}),W=B=b=m=P=S=v=O=E=I=y=null,l.dispose()}}}});