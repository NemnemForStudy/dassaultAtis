/*!  Copyright 2014 Dassault Systemes. All rights reserved. */
define("DS/CATWebUXPreferences/CATWebUXPreferencesUtils",["require","exports","i18n!DS/CATWebUXPreferences/assets/nls/CATWebUXPreferences"],function(e,a,t){"use strict";const n={repositories:[{name:"",preferences:[{name:"DMUDisplayMarkupCreationDialog",defaultValue:"true",datatype:"boolean"},{name:"DMUCreateFirstSlide",defaultValue:"true",datatype:"boolean"},{name:"DMUSlideNameFromFeature",defaultValue:"true",datatype:"boolean"},{name:"DMUDisplaySlideTitle",defaultValue:"false",datatype:"boolean"},{name:"DMUCaptureSpecLayers",defaultValue:"false",datatype:"boolean"},{name:"DMUEnableSlideDragContent",defaultValue:"0",datatype:"enum"},{name:"DMUSnapHandlesToGrid",defaultValue:"true",datatype:"boolean"},{name:"DMUSnapHandlesGridValue",defaultValue:"1",datatype:"float"},{name:"DMUSnapRotationToggle",defaultValue:"true",datatype:"boolean"},{name:"DMUSnapRotationAngle",defaultValue:"90",datatype:"float"},{name:"DMUCompareFirstColor",defaultValue:"FF0000",datatype:"color"},{name:"DMUCompareSecondColor",defaultValue:"00FF00",datatype:"color"},{name:"DMUCompare3DCommonColor",defaultValue:"D3D3D3",datatype:"color"},{name:"DMUCompare2DCommonColor",defaultValue:"000000",datatype:"color"},{name:"DMUMeasureMainValueDisplay",defaultValue:JSON.stringify({Coordinates:{measureTypes:!1,unitDisplay:!0},Line_Length:{measureTypes:!1,unitDisplay:!0},Curve_Length:{measureTypes:!0,unitDisplay:!0},Arc_Length:{measureTypes:!0,unitDisplay:!0},Distance:{measureTypes:!1,unitDisplay:!0},Min_Distance:{measureTypes:!1,unitDisplay:!0},Max_Distance:{measureTypes:!0,unitDisplay:!0},Angle:{measureTypes:!1,unitDisplay:!0},Half_Angle:{measureTypes:!1,unitDisplay:!0},Radius:{measureTypes:!1,unitDisplay:!0},Min_Radius:{measureTypes:!1,unitDisplay:!0},Max_Radius:{measureTypes:!1,unitDisplay:!0},Diameter:{measureTypes:!1,unitDisplay:!0},Min_Diameter:{measureTypes:!1,unitDisplay:!0},Max_Diameter:{measureTypes:!1,unitDisplay:!0},Area:{measureTypes:!0,unitDisplay:!0},Volume:{measureTypes:!0,unitDisplay:!0},Thickness:{measureTypes:!1,unitDisplay:!0}}),datatype:"string"},{name:"DMUMeasureRemovePreviousNonPersistent",defaultValue:"false",datatype:"boolean"},{name:"DMUComputeSectionContour",defaultValue:"false",datatype:"boolean"},{name:"3DAnnotWhiteVectorAsBlack",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotLoadARMPartsPref",defaultValue:"false",datatype:"boolean"},{name:"3DAnnotDisplayCapturesPref",defaultValue:"false",datatype:"boolean"},{name:"3DAnnotUpdateThumbnailsPref",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotKeepSelectedFeaturesPref",defaultValue:"true",datatype:"boolean"},{name:"CATWebUXPreferences_Units",defaultValue:JSON.stringify({Angle:{unit:"deg",decimalPlaceRW:3,decimalPlaceRO:3},Area:{unit:"mm2",decimalPlaceRW:3,decimalPlaceRO:3},Length:{unit:"mm",decimalPlaceRW:3,decimalPlaceRO:3},Mass:{unit:"kg",decimalPlaceRW:3,decimalPlaceRO:3},Volume:{unit:"mm3",decimalPlaceRW:3,decimalPlaceRO:3}}),datatype:"string"},{name:"CATWebUXPreferences_TrailingZeros",defaultValue:"false",datatype:"boolean"},{name:"CATWebUXPreferences_GravitationalEffects",defaultValue:"false",datatype:"boolean"},{name:"CATWebUXPreferences_ProjectionType",defaultValue:"0",datatype:"enum"},{name:"CATWebUXPreferences_Select3DGeometry",defaultValue:"false",datatype:"boolean"},{name:"CATWebUXPreferences_SelectParentReferenceOr3DShape",defaultValue:"selectParentReference",datatype:"enum"},{name:"CATWebUXPreferences_Select2DGeometry",defaultValue:"false",datatype:"boolean"},{name:"CATWebUXPreferences_ExportPersonalData",defaultValue:"false",datatype:"boolean"},{name:"DMUDisplayReviewCreationDialog",defaultValue:"true",datatype:"boolean"},{name:"DMUAutomaticMarkupCreationDialog",defaultValue:"",datatype:"boolean"},{name:"DMUMarkerValidatedStampLabel",defaultValue:"Validated",datatype:"string"},{name:"DMUMarkerRejectedStampLabel",defaultValue:"Rejected",datatype:"string"},{name:"PIMwebContextLoadMode",defaultValue:"0",datatype:"enum"},{name:"PIMwebPrefs",defaultValue:JSON.stringify({version:1,useStoredResults:1,geometries:{mode:1,clash:1,contact:1,clearance:1},quantifiers:{minDist:!0},partsOverload:{type:0,parts:["#0000FF","#FFFF00"],itfType:["#CC092F","#FF8A2E","#6FBC48"],transparency:128}}),datatype:"string"},{name:"3DAnnotSemAttr_3DAnnotations",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_0",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_1",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_2",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_3",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_4",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_5",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_6",defaultValue:"true",datatype:"boolean"},{name:"3DAnnotSemAttr_7",defaultValue:"true",datatype:"boolean"}]},{name:"PIMwebPref",preferences:[{name:"PIMwebLoad",defaultValue:"pimAllParts",datatype:"enum"},{name:"IDStoredResults",defaultValue:"true",datatype:"boolean"},{name:"IDQMinDist",defaultValue:"idMinDist",datatype:"enum"},{name:"IDGeometries",defaultValue:"idType",datatype:"enum"},{name:"IDGClash",defaultValue:"idCurve",datatype:"enum"},{name:"IDGContact",defaultValue:"idTriangle",datatype:"enum"},{name:"IDGClearance",defaultValue:"idTriangle",datatype:"enum"},{name:"IDColorOverLoading",defaultValue:"colorInstance",datatype:"enum"},{name:"IDColorInstance1",defaultValue:"#0000FF",datatype:"color"},{name:"IDColorInstance2",defaultValue:"#FFFF00",datatype:"color"},{name:"IDColorItfClash",defaultValue:"#CC092F",datatype:"color"},{name:"IDColorItfContact",defaultValue:"#FF8A2E",datatype:"color"},{name:"IDColorItfClearance",defaultValue:"#6FBC48",datatype:"color"},{name:"IDItfPartsTransparency",defaultValue:"128",datatype:"integer"}]},{name:"DMURepository",preferences:[{name:"DisplayReviewCreationDialog",datatype:"boolean",defaultValue:"true"},{name:"AutomaticMarkupCreationDialog",datatype:"boolean",defaultValue:"true"},{name:"MarkerValidatedStampLabel",datatype:"string",defaultValue:"Validated"},{name:"MarkerRejectedStampLabel",datatype:"string",defaultValue:"Rejected"},{name:"DisplayMarkupCreationDialog",datatype:"boolean",defaultValue:"true"},{name:"CreateFirstSlide",datatype:"boolean",defaultValue:"true"},{name:"SlideNameFromFeature",datatype:"boolean",defaultValue:"true"},{name:"DisplaySlideTitle",datatype:"boolean",defaultValue:"false"},{name:"CaptureSpecLayers",datatype:"boolean",defaultValue:"false"},{name:"SlideDragAndDropOperation",datatype:"enum",defaultValue:"SlideReorder"},{name:"SnapHandlesToGrid",datatype:"boolean",defaultValue:"true"},{name:"SnapHandlesGridValue",datatype:"float",defaultValue:"0.001"},{name:"SnapRotationToggle",datatype:"boolean",defaultValue:"true"},{name:"SnapRotationAngle",datatype:"float",defaultValue:"1.5708"},{name:"CompareFirstColor",datatype:"color",defaultValue:"#FF0000"},{name:"CompareSecondColor",datatype:"color",defaultValue:"#00FF00"},{name:"Compare3DCommonColor",datatype:"color",defaultValue:"#D3D3D3"},{name:"Compare2DCommonColor",datatype:"color",defaultValue:"#000000"},{name:"ExportPersonalData",datatype:"boolean",defaultValue:"false"}]},{name:"MeasureRepository",preferences:[{name:"Coordinates_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Coordinates_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Coordinates_Unit",datatype:"boolean",defaultValue:"true"},{name:"Coordinates_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Coordinates_Selection",datatype:"boolean",defaultValue:"false"},{name:"Coordinates_ComputationMode",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Line_Length_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Line_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Line_Length_Point1",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_Point2",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_Direction",datatype:"boolean",defaultValue:"true"},{name:"Line_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Line_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Curve_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Curve_Length_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Curve_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Curve_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Curve_Length_Point1",datatype:"boolean",defaultValue:"true"},{name:"Curve_Length_Point2",datatype:"boolean",defaultValue:"true"},{name:"Curve_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Curve_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Arc_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Arc_Length_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Arc_Length_Point1",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_Point2",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_Radius",datatype:"boolean",defaultValue:"true"},{name:"Arc_Length_Diameter",datatype:"boolean",defaultValue:"false"},{name:"Arc_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Arc_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cylinder_Length_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Radius",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Diameter",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Length_Area",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cone_Length_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cone_Length_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Angle",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Cone_Length_Apex",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_MinRadius",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_MaxRadius",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_MinDiameter",datatype:"boolean",defaultValue:"true"},{name:"Cone_Length_MaxDiameter",datatype:"boolean",defaultValue:"true"},{name:"Cone_Length_Area",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cone_Length_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Distance_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Min_Distance_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Min_Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Min_Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Min_Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Min_Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Min_Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Max_Distance_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Max_Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Max_Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Local_Min_Distance_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Local_Min_Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Local_Min_Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Local_Min_Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Local_Min_Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Local_Min_Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Local_Max_Distance_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_Unit",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_Point1",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_Point2",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_Components",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_Direction",datatype:"boolean",defaultValue:"true"},{name:"Local_Max_Distance_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Local_Max_Distance_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Angle_Btw2Selections_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_Unit",datatype:"boolean",defaultValue:"true"},{name:"Angle_Btw2Selections_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_Center",datatype:"boolean",defaultValue:"true"},{name:"Angle_Btw2Selections_Selection1",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_Selection2",datatype:"boolean",defaultValue:"false"},{name:"Angle_Btw2Selections_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Angle_By3Pts_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_Unit",datatype:"boolean",defaultValue:"true"},{name:"Angle_By3Pts_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_Point1",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_Point2",datatype:"boolean",defaultValue:"false"},{name:"Angle_By3Pts_Center",datatype:"boolean",defaultValue:"true"},{name:"Angle_By3Pts_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cone_Angle_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cone_Angle_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Length",datatype:"boolean",defaultValue:"true"},{name:"Cone_Angle_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Apex",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_MinimumRadius",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_MaximumRadius",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_MinimumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Cone_Angle_MaximumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Cone_Angle_Area",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cone_Angle_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Half_Angle_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Unit",datatype:"boolean",defaultValue:"true"},{name:"Half_Angle_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Point1",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Point2",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Length",datatype:"boolean",defaultValue:"true"},{name:"Half_Angle_Direction",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Apex",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_MinimumRadius",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_MaximumRadius",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_MinimumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Half_Angle_MaximumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Half_Angle_Area",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_Selection",datatype:"boolean",defaultValue:"false"},{name:"Half_Angle_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Radius_Center",datatype:"boolean",defaultValue:"true"},{name:"Radius_ArcLength",datatype:"boolean",defaultValue:"true"},{name:"Radius_CirclePerimeter",datatype:"boolean",defaultValue:"false"},{name:"Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cylinder_Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Length",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Radius_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Area",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Sphere_Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Sphere_Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_Center",datatype:"boolean",defaultValue:"true"},{name:"Sphere_Radius_Area",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Min_Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Min_Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Point1",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Point2",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Length",datatype:"boolean",defaultValue:"true"},{name:"Min_Radius_Direction",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Angle",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Min_Radius_Apex",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_MaximumRadius",datatype:"boolean",defaultValue:"true"},{name:"Min_Radius_Area",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Min_Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Max_Radius_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Unit",datatype:"boolean",defaultValue:"true"},{name:"Max_Radius_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Point1",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Point2",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Length",datatype:"boolean",defaultValue:"true"},{name:"Max_Radius_Direction",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Angle",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Max_Radius_Apex",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_MinimumRadius",datatype:"boolean",defaultValue:"true"},{name:"Max_Radius_Area",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_Selection",datatype:"boolean",defaultValue:"false"},{name:"Max_Radius_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Radius_By3Pts_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Unit",datatype:"boolean",defaultValue:"true"},{name:"Radius_By3Pts_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Point1",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Point2",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Point3",datatype:"boolean",defaultValue:"false"},{name:"Radius_By3Pts_Center",datatype:"boolean",defaultValue:"true"},{name:"Radius_By3Pts_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Diameter_Center",datatype:"boolean",defaultValue:"true"},{name:"Diameter_ArcLength",datatype:"boolean",defaultValue:"true"},{name:"Diameter_CirclePerimeter",datatype:"boolean",defaultValue:"false"},{name:"Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Cylinder_Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Point1",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Point2",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Length",datatype:"boolean",defaultValue:"true"},{name:"Cylinder_Diameter_Direction",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Area",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Cylinder_Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Sphere_Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Sphere_Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_Center",datatype:"boolean",defaultValue:"true"},{name:"Sphere_Diameter_Area",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Sphere_Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Min_Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Min_Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Point1",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Point2",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Length",datatype:"boolean",defaultValue:"true"},{name:"Min_Diameter_Direction",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Angle",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Min_Diameter_Apex",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_MaximumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Min_Diameter_Area",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Min_Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Max_Diameter_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Unit",datatype:"boolean",defaultValue:"true"},{name:"Max_Diameter_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Point1",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Point2",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Length",datatype:"boolean",defaultValue:"true"},{name:"Max_Diameter_Direction",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Angle",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_HalfAngle",datatype:"boolean",defaultValue:"true"},{name:"Max_Diameter_Apex",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_MinimumDiameter",datatype:"boolean",defaultValue:"true"},{name:"Max_Diameter_Area",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_CenterOfGravity",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_Selection",datatype:"boolean",defaultValue:"false"},{name:"Max_Diameter_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Diameter_By3Pts_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Unit",datatype:"boolean",defaultValue:"true"},{name:"Diameter_By3Pts_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Point1",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Point2",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Point3",datatype:"boolean",defaultValue:"false"},{name:"Diameter_By3Pts_Center",datatype:"boolean",defaultValue:"true"},{name:"Diameter_By3Pts_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Surface_Area_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Surface_Area_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Surface_Area_Unit",datatype:"boolean",defaultValue:"true"},{name:"Surface_Area_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Surface_Area_CenterOfGravity",datatype:"boolean",defaultValue:"true"},{name:"Surface_Area_Selection",datatype:"boolean",defaultValue:"false"},{name:"Surface_Area_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"PlanarSurface_Area_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"PlanarSurface_Area_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"PlanarSurface_Area_Unit",datatype:"boolean",defaultValue:"true"},{name:"PlanarSurface_Area_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"PlanarSurface_Area_CenterOfGravity",datatype:"boolean",defaultValue:"true"},{name:"PlanarSurface_Area_Equation",datatype:"boolean",defaultValue:"false"},{name:"PlanarSurface_Area_Selection",datatype:"boolean",defaultValue:"false"},{name:"PlanarSurface_Area_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Product_Area_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Product_Area_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Product_Area_Unit",datatype:"boolean",defaultValue:"true"},{name:"Product_Area_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Product_Area_Volume",datatype:"boolean",defaultValue:"true"},{name:"Product_Area_CenterOfGravity",datatype:"boolean",defaultValue:"true"},{name:"Product_Area_Selection",datatype:"boolean",defaultValue:"false"},{name:"Product_Area_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Volume_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Volume_MeasureType",datatype:"boolean",defaultValue:"true"},{name:"Volume_Unit",datatype:"boolean",defaultValue:"true"},{name:"Volume_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Volume_Area",datatype:"boolean",defaultValue:"true"},{name:"Volume_CenterOfGravity",datatype:"boolean",defaultValue:"true"},{name:"Volume_Selection",datatype:"boolean",defaultValue:"false"},{name:"Volume_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Thickness_DisplayType",datatype:"enum",defaultValue:"MainValue"},{name:"Thickness_MeasureType",datatype:"boolean",defaultValue:"false"},{name:"Thickness_Unit",datatype:"boolean",defaultValue:"true"},{name:"Thickness_ApproximatedValueSymbol",datatype:"boolean",defaultValue:"false"},{name:"Thickness_Point1",datatype:"boolean",defaultValue:"true"},{name:"Thickness_Point2",datatype:"boolean",defaultValue:"true"},{name:"Thickness_Direction",datatype:"boolean",defaultValue:"true"},{name:"Thickness_Selection",datatype:"boolean",defaultValue:"false"},{name:"Thickness_ComputationMode",datatype:"boolean",defaultValue:"false"},{name:"Measure_GraphicProperties_Fill",datatype:"boolean",defaultValue:"true"},{name:"Measure_GraphicProperties_FillColor",datatype:"color",defaultValue:"#368ec4"},{name:"Measure_GraphicProperties_FillTransparency",datatype:"float",defaultValue:"0"},{name:"Measure_GraphicProperties_LineBorder",datatype:"boolean",defaultValue:"false"},{name:"Measure_GraphicProperties_LineColor",datatype:"color",defaultValue:"#3D3D3D"},{name:"Measure_GraphicProperties_LineThickness",datatype:"enum",defaultValue:"1"},{name:"Measure_GraphicProperties_LineType",datatype:"enum",defaultValue:"Solid"},{name:"Measure_GraphicProperties_TextColor",datatype:"color",defaultValue:"#ffffff"},{name:"Measure_GraphicProperties_TextSize",datatype:"float",defaultValue:"3.5"},{name:"Measure_GraphicProperties_TextBold",datatype:"boolean",defaultValue:"false"},{name:"Measure_GraphicProperties_TextItalic",datatype:"boolean",defaultValue:"false"},{name:"DMUMeasureRemovePreviousNonPersistent",datatype:"boolean",defaultValue:"false"}]},{name:"SelectionRepository",preferences:[{name:"Select3DGeometry",datatype:"boolean",defaultValue:"false"},{name:"SelectParentReferenceOr3DShape",datatype:"enum",defaultValue:"selectParentReference"},{name:"Select2DGeometry",datatype:"boolean",defaultValue:"false"}]},{name:"VisualizationRepository",preferences:[{name:"Gravity",datatype:"boolean",defaultValue:"false"}]},{name:"FrameGeneral",preferences:[{name:"ProjectionType",datatype:"enum",defaultValue:"Perspective"}]},{name:"cke",preferences:[{name:"TrailingZeros",datatype:"boolean",defaultValue:"false"},{name:"Length",datatype:"enum",defaultValue:"Millimeter"},{name:"LengthDisplay",datatype:"uint",defaultValue:"3"},{name:"LengthCalcDisplay",datatype:"uint",defaultValue:"3"},{name:"Angle",datatype:"enum",defaultValue:"Degree"},{name:"AngleDisplay",datatype:"uint",defaultValue:"3"},{name:"AngleCalcDisplay",datatype:"uint",defaultValue:"3"},{name:"Volume",datatype:"enum",defaultValue:"CubMm"},{name:"VolumeDisplay",datatype:"uint",defaultValue:"3"},{name:"VolumeCalcDisplay",datatype:"uint",defaultValue:"3"},{name:"Area",datatype:"enum",defaultValue:"SqMm"},{name:"AreaDisplay",datatype:"uint",defaultValue:"3"},{name:"AreaCalcDisplay",datatype:"uint",defaultValue:"3"},{name:"Mass",datatype:"enum",defaultValue:"Kilogram"},{name:"MassDisplay",datatype:"uint",defaultValue:"3"},{name:"MassCalcDisplay",datatype:"uint",defaultValue:"3"}]},{name:"3DAnnotRepository",preferences:[{name:"WhiteVectorAsBlack",datatype:"boolean",defaultValue:"true"},{name:"LoadARMAnnotations",datatype:"boolean",defaultValue:"false"},{name:"DisplayOnlyCaptures",datatype:"boolean",defaultValue:"false"},{name:"UpdateThumbnails",datatype:"boolean",defaultValue:"true"},{name:"KeepSelectedFeatures",datatype:"boolean",defaultValue:"true"},{name:"FavoriteContextLoadMode",datatype:"enum",defaultValue:"Check"},{name:"SemanticAttribute_3DAnnotations",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_0",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_1",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_2",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_3",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_4",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_5",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_6",datatype:"boolean",defaultValue:"true"},{name:"SemanticAttribute_7",datatype:"boolean",defaultValue:"true"}]},{name:"ClippingRepository",preferences:[{name:"CappingColorSource",datatype:"enum",defaultValue:"Custom"},{name:"CustomCappingColor",datatype:"color",defaultValue:"#436655"},{name:"ComputeClippingContour",datatype:"boolean",defaultValue:"false"},{name:"ContourColorSource",datatype:"enum",defaultValue:"Custom"},{name:"CustomContourColor",datatype:"color",defaultValue:"#D3D3D3"},{name:"ContourThickness",datatype:"enum",defaultValue:"1"},{name:"DisplayRepresentationPermanently",datatype:"boolean",defaultValue:"false"},{name:"RepresentationColor",datatype:"color",defaultValue:"#D3D3D3"},{name:"RepresentationTransparency",datatype:"uint",defaultValue:"50"},{name:"NormalDirection",datatype:"enum",defaultValue:"Automatic"},{name:"DisplayManipulationTool",datatype:"boolean",defaultValue:"true"},{name:"ManipulationToolMode",datatype:"enum",defaultValue:"Explore"},{name:"ManipulationIncrement",datatype:"float",defaultValue:"0.001"}]},{name:"W3MprefMove",preferences:[{name:"C3DAllowDirectManipulation",datatype:"boolean",defaultValue:"false"},{name:"defaultMoveReferent",datatype:"enum",defaultValue:"moveLeafPart"}]}]};let l=t&&t.units?t.units:{},o=t&&t.unitSymbols?t.unitSymbols:{};const i=function(e){let a;if(e)switch(e.toLowerCase()){case"length":a="Length";break;case"area":a="Area";break;case"angle":a="Angle";break;case"volume":a="Volume";break;case"mass":a="Mass"}return a},r=function(e,a){for(let t=0;t<n.repositories.length;t++)if(a&&a===n.repositories[t].name){for(let a=0;a<n.repositories[t].preferences.length;a++)if(e===n.repositories[t].preferences[a].name)return{defaultValue:n.repositories[t].preferences[a].defaultValue,datatype:n.repositories[t].preferences[a].datatype}}else for(let a=0;a<n.repositories[t].preferences.length;a++)if(e===n.repositories[t].preferences[a].name)return{defaultValue:n.repositories[t].preferences[a].defaultValue,datatype:n.repositories[t].preferences[a].datatype}},u=function(e){for(let a=0;a<n.repositories.length;a++)for(let t=0;t<n.repositories[a].preferences.length;t++)if(e===n.repositories[a].preferences[t].name)return n.repositories[a].name;return""};class s{static convertValueToString(e,a,t){let n=t||{},l=i(a);if(!l)return window.console.warn("Magnitude not supported"),parseFloat(e);let o=s.getPreference(l);n.unit&&(o=n.unit);let r=this.getPreference(l+"Display","int"),u=this.getPreference(l+"CalcDisplay","int");if(s[l]&&s[l][o]){let a=n.readWrite?r:u,t=parseFloat(e)*s[l][o].ratio;return t=Math.round(t*Math.pow(10,a))/Math.pow(10,a),t=s.getPreference("TrailingZeros","boolean")&&a>0?t.toFixed(a):t.toString(),n.displayUnit||void 0===n.displayUnit?t+(n.displaySpace?" ":"")+s[l][o].symbol:t}return parseFloat(e)}static convertUnitValueToString(e,a,t,n,l,o={}){var i;if(s[a]&&s[a][t]){let r=e*s[a][t].ratio;return r=Math.round(r*Math.pow(10,n))/Math.pow(10,n),r=l&&n>0?r.toFixed(n):r.toString(),null===(i=o.displaySymbol)||void 0===i||i?r+(o.displaySpace?" ":"")+s[a][t].symbol:r}return e.toString()}static convert(e,a,t,n){let l=i(a);return l?s[l][t]?s[l][n]?e/s[l][t].ratio*s[l][n].ratio:(window.console.warn("Bad second unit parameter"),e):(window.console.warn("Bad first unit parameter"),e):(window.console.warn("Magnitude not supported"),e)}static isMagnitudeSupported(e){return void 0!==i(e)}static getCurrentUnit(e){let a=i(e);if(!a)return window.console.warn("Magnitude not supported"),{unit:"",nls:""};let t=this.getPreference(a),n=this.getPreference(a+"Display","int"),l=this.getPreference(a+"CalcDisplay","int"),o=s.Types[a];return t||(t=o.defaultValue),{unit:t,nls:s[a][t].symbol,decimalPlaceRW:n,decimalPlaceRO:l}}static getPreference(e,a,t){var n;window.console.warn('This method is deprecated, please use "readPreferences" API instead.');let l=null===(n=r(e))||void 0===n?void 0:n.defaultValue;t&&("true"===localStorage.getItem("CATWebUXMePreferenceImplementation")?this.readPreferences([{Repository:u(e),PreferenceNames:[e]}]).then(e=>{var a;t(null!==(a=e.repositories[0].preferences[0].value)&&void 0!==a?a:null)}):setTimeout(function(){let n=localStorage.getItem("CATWebUXMePreferences_"+e)||localStorage.getItem(e)||l;n&&"string"==typeof n&&("int"===a?n=parseInt(n):"boolean"===a&&(n="true"===n)),t(null!=n?n:null)}));let o=localStorage.getItem("CATWebUXMePreferences_"+e)||localStorage.getItem(e)||l;if(o&&"string"==typeof o){if("int"===a)return parseInt(o);if("boolean"===a)return"true"===o}return null!=o?o:null}static _generatePreferencesObject(e,a){var t,l,o,i,s;let d={repositories:[]};if(e.length)if(a)for(let a=0;a<e.length;a++){const n=e[a].PreferenceNames;if(n)for(let e=0;e<n.length;e++){const a=u(n[e]);let o=d.repositories.find(e=>e.name===a);o||(o={name:a,preferences:[]},d.repositories.push(o));let i={name:n[e],value:"",datatype:"string"},s=localStorage.getItem("CATWebUXMePreferences_"+n[e])||localStorage.getItem(n[e]);i.value=s||(null===(t=r(i.name,o.name))||void 0===t?void 0:t.defaultValue),i.datatype=null===(l=r(i.name,o.name))||void 0===l?void 0:l.datatype,o.preferences.push(i)}}else for(let a=0;a<e.length;a++){let t={name:e[a].Repository,preferences:[]};const l=e[a].PreferenceNames||(null===(o=n.repositories.find(t=>t.name===e[a].Repository))||void 0===o?void 0:o.preferences.map(e=>e.name));if(l)for(let e=0;e<l.length;e++){let a={name:l[e],value:"",datatype:"string"},n=localStorage.getItem("CATWebUXMePreferences_"+l[e])||localStorage.getItem(l[e]);a.value=n||(null===(i=r(a.name,t.name))||void 0===i?void 0:i.defaultValue),a.datatype=null===(s=r(a.name,t.name))||void 0===s?void 0:s.datatype,t.preferences.push(a)}d.repositories.push(t)}return d}static readPreferences(e){return new Promise((a,t)=>{if("true"===localStorage.getItem("CATWebUXMePreferenceImplementation")){const n=["DS/MePreferencesClientAPI/MePreferencesClientAPI"];window.require(n,n=>{n&&n.readPreferences&&n.readPreferences(e).then(a,t)},t)}else{let t=this._generatePreferencesObject(e);a(t)}})}}return s.Types={Length:{name:"Length",defaultValue:"Millimeter",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3},Angle:{name:"Angle",defaultValue:"Degree",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3},Volume:{name:"Volume",defaultValue:"CubMm",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3},Area:{name:"Area",defaultValue:"SqMm",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3},Mass:{name:"Mass",defaultValue:"Kilogram",defaultDecimalPlaceRW:3,defaultDecimalPlaceRO:3}},s.Length={mm:{newName:"Millimeter",name:"mm",nls:l.mm,ratio:Math.pow(10,3)},cm:{newName:"Centimeter",name:"cm",nls:l.cm,ratio:Math.pow(10,2)},m:{newName:"Meter",name:"m",nls:l.m,ratio:1},km:{newName:"Kilometer",name:"km",nls:l.km,ratio:Math.pow(10,-3)},inch:{newName:"Inch",name:"inch",nls:l.inch,ratio:Math.pow(10,3)/25.4},foot:{newName:"Foot",name:"foot",nls:l.foot,ratio:Math.pow(10,3)/304.8},Millimeter:{deprecatedName:"mm",name:"Millimeter",symbol:o.Millimeter,nls:l.Millimeter,ratio:1e3},Centimeter:{deprecatedName:"cm",name:"Centimeter",symbol:o.Centimeter,nls:l.Centimeter,ratio:100},Meter:{deprecatedName:"m",name:"Meter",symbol:o.Meter,nls:l.Meter,ratio:1},Kilometer:{deprecatedName:"km",name:"Kilometer",symbol:o.Kilometer,nls:l.Kilometer,ratio:.001},Inch:{deprecatedName:"inch",name:"Inch",symbol:o.Inch,nls:l.Inch,ratio:1e3/25.4},"Feet,Inch,Fraction/64":{name:"Feet,Inch,Fraction/64",symbol:o.Foot,nls:l.Foot,ratio:1e3/304.8},"Feet,Inch,Fraction/16":{name:"Feet,Inch,Fraction/16",symbol:o.Foot,nls:l.Foot,ratio:1e3/304.8},"Feet,Inch,Decimal":{name:"Feet,Inch,Decimal",symbol:o.Foot,nls:l.Foot,ratio:1e3/304.8},Foot:{deprecatedName:"foot",name:"Foot",symbol:o.Foot,nls:l.Foot,ratio:1e3/304.8},Micrometer:{name:"Micrometer",symbol:o.Micrometer,nls:l.Micrometer,ratio:1e6},Yard:{name:"Yard",symbol:o.Yard,nls:l.Yard,ratio:1e3/914.4},Mile:{name:"Mile",symbol:o.Mile,nls:l.Mile,ratio:1e3/1609344},Nanometer:{name:"Nanometer",symbol:o.Nanometer,nls:l.Nanometer,ratio:1e9},Hectometer:{name:"Hectometer",symbol:o.Hectometer,nls:l.Hectometer,ratio:.01},NauticalMile:{name:"NauticalMile",symbol:o.NauticalMile,nls:l.NauticalMile,ratio:1e3/1852e3},Decimeter:{name:"Decimeter",symbol:o.Decimeter,nls:l.Decimeter,ratio:10},Angstrom:{name:"Angstrom",symbol:o.Angstrom,nls:l.Angstrom,ratio:1e10},Centimillimeter:{name:"Centimillimeter",symbol:o.Centimillimeter,nls:l.Centimillimeter,ratio:1e5},ThousandthOfAnInch:{name:"ThousandthOfAnInch",symbol:o.ThousandthOfAnInch,nls:l.ThousandthOfAnInch,ratio:1e3/.0254}},s.Angle={deg:{newName:"Degree",name:"deg",nls:l.deg,ratio:180/Math.PI},rad:{newName:"Radian",name:"rad",nls:l.rad,ratio:1},Degree:{deprecatedName:"deg",name:"Degree",symbol:o.Degree,nls:l.Degree,ratio:180/Math.PI},Radian:{deprecatedName:"rad",name:"Radian",symbol:o.Radian,nls:l.Radian,ratio:1},Grade:{name:"Grade",symbol:o.Grade,nls:l.Grade,ratio:200/Math.PI},"Degree,Minute,Second":{name:"Degree,Minute,Second",symbol:o["Degree,Minute,Second"],nls:l["Degree,Minute,Second"],ratio:180/Math.PI},Turn:{name:"Turn",symbol:o.Turn,nls:l.Turn,ratio:.15915494309189535},Milliradian:{name:"Milliradian",symbol:o.Milliradian,nls:l.Milliradian,ratio:1e3},InchPerFoot:{name:"InchPerFoot",symbol:o.InchPerFoot,nls:l.InchPerFoot,ratio:12},AnglePercent:{name:"AnglePercent",symbol:o.AnglePercent,nls:l.AnglePercent,ratio:1},UInV:{name:"UInV",symbol:o.UInV,nls:l.UInV,ratio:1},VInU:{name:"VInU",symbol:o.VInU,nls:l.VInU,ratio:1}},s.Volume={mm3:{newName:"CubMm",name:"mm3",nls:l.mm3,ratio:Math.pow(10,9)},cm3:{newName:"CubCm",name:"cm3",nls:l.cm3,ratio:Math.pow(10,6)},m3:{newName:"CubMet",name:"m3",nls:l.m3,ratio:1},inch3:{newName:"CubInch",name:"inch3",nls:l.inch3,ratio:Math.pow(10,9)/16387.064},foot3:{newName:"CubFoot",name:"foot3",nls:l.foot3,ratio:Math.pow(10,9)/28316846.6},CubMm:{deprecatedName:"mm3",name:"CubMm",symbol:o.CubMm,nls:l.CubMm,ratio:1e9},CubCm:{deprecatedName:"cm3",name:"CubCm",symbol:o.CubCm,nls:l.CubCm,ratio:1e6},CubMet:{deprecatedName:"m3",name:"CubMet",symbol:o.CubMet,nls:l.CubMet,ratio:1},km3:{deprecatedName:"km3",name:"km3",symbol:o.km3,nls:l.km3,ratio:Math.pow(10,-9)},CubInch:{deprecatedName:"inch3",name:"CubInch",symbol:o.CubInch,nls:l.CubInch,ratio:Math.pow(10,9)/16387.064},CubFoot:{deprecatedName:"foot3",name:"CubFoot",symbol:o.CubFoot,nls:l.CubFoot,ratio:Math.pow(10,9)/28316846.6},Liter:{name:"Liter",symbol:o.Liter,nls:l.Liter,ratio:1e3},Gallon:{name:"Gallon",symbol:o.Gallon,nls:l.Gallon,ratio:1e3/3.785411784},Barrel:{name:"Barrel",symbol:o.Barrel,nls:l.Barrel,ratio:1/.158987294928},CubYard:{name:"CubYard",symbol:o.CubYard,nls:l.CubYard,ratio:1/.764554857984},CubDm:{name:"CubDm",symbol:o.CubDm,nls:l.CubDm,ratio:1e3},"US Fluid ounce":{name:"US Fluid ounce",symbol:o["US Fluid ounce"],nls:l["US Fluid ounce"],ratio:"0"}},s.Area={mm2:{newName:"SqMm",name:"mm2",nls:l.mm2,ratio:Math.pow(10,6)},m2:{newName:"SqMet",name:"m2",nls:l.m2,ratio:1},km2:{newName:"SqKm",name:"km2",nls:l.km2,ratio:Math.pow(10,-6)},cm2:{newName:"SqCm",name:"cm2",symbol:o.cm2,nls:l.cm2,ratio:Math.pow(10,4)},inch2:{newName:"SqInch",name:"inch2",nls:l.inch2,ratio:Math.pow(10,6)/645.16},foot2:{newName:"SqFoot",name:"foot2",nls:l.foot2,ratio:Math.pow(10,6)/92903.04},SqMm:{deprecatedName:"mm2",name:"SqMm",symbol:o.SqMm,nls:l.SqMm,ratio:Math.pow(10,6)},SqCm:{deprecatedName:"cm2",name:"SqCm",symbol:o.SqCm,nls:l.SqCm,ratio:Math.pow(10,4)},SqMet:{deprecatedName:"m2",name:"SqMet",symbol:o.SqMet,nls:l.SqMet,ratio:1},SqKm:{deprecatedName:"km2",name:"SqKm",symbol:o.SqKm,nls:l.SqKm,ratio:Math.pow(10,-6)},SqInch:{deprecatedName:"inch2",name:"SqInch",symbol:o.SqInch,nls:l.SqInch,ratio:Math.pow(10,6)/645.16},SqFoot:{deprecatedName:"foot2",name:"SqFoot",symbol:o.SqFoot,nls:l.SqFoot,ratio:Math.pow(10,6)/92903.04},SqYard:{name:"SqYard",symbol:o.SqYard,nls:l.SqYard,ratio:1.1959900463010802},SqHm:{name:"SqHm",symbol:o.SqHm,nls:l.SqHm,ratio:1e-4}},s.Mass={mg:{newName:"Milligram",name:"mg",nls:l.mg,ratio:Math.pow(10,6)},g:{newName:"Gram",name:"g",nls:l.g,ratio:Math.pow(10,3)},hg:{newName:"Hectogram",name:"hg",nls:l.hg,ratio:Math.pow(10,1)},kg:{newName:"Kilogram",name:"kg",nls:l.kg,ratio:1},t:{newName:"Tonne",name:"t",nls:l.t,ratio:Math.pow(10,-3)},lb:{newName:"Pound",name:"lb",nls:l.lb,ratio:.45359237},oz:{newName:"Ounce",name:"oz",nls:l.oz,ratio:.02835},Milligram:{deprecatedName:"mg",name:"Milligram",symbol:o.Milligram,nls:l.Milligram,ratio:Math.pow(10,6)},Gram:{deprecatedName:"g",name:"Gram",symbol:o.Gram,nls:l.Gram,ratio:Math.pow(10,3)},Hectogram:{deprecatedName:"hg",name:"Hectogram",symbol:o.Hectogram,nls:l.Hectogram,ratio:Math.pow(10,1)},Kilogram:{deprecatedName:"kg",name:"Kilogram",symbol:o.Kilogram,nls:l.Kilogram,ratio:1},Tonne:{deprecatedName:"t",name:"Tonne",symbol:o.Tonne,nls:l.Tonne,ratio:Math.pow(10,-3)},Pound:{deprecatedName:"lb",name:"Pound",symbol:o.Pound,nls:l.Pound,ratio:.45359237},Ounce:{deprecatedName:"oz",name:"Ounce",symbol:o.Ounce,nls:l.Ounce,ratio:.02835},Slug:{name:"Slug",symbol:o.Slug,nls:l.Slug,ratio:.06852176585679177},GravityTonne:{name:"GravityTonne",symbol:o.GravityTonne,nls:l.GravityTonne,ratio:1/9806.65},KgForceSqSecPerMet:{name:"KgForceSqSecPerMet",symbol:o.KgForceSqSecPerMet,nls:l.KgForceSqSecPerMet,ratio:1/9.80665},KgForceSqSecPerMm:{name:"KgForceSqSecPerMm",symbol:o.KgForceSqSecPerMm,nls:l.KgForceSqSecPerMm,ratio:1/9806.65},KgForceSqSecPerCm:{name:"KgForceSqSecPerCm",symbol:o.KgForceSqSecPerCm,nls:l.KgForceSqSecPerCm,ratio:1/980.6649999999998},LbForceSqSecPerInch:{name:"LbForceSqSecPerInch",symbol:o.LbForceSqSecPerInch,nls:l.LbForceSqSecPerInch,ratio:.005710147154732646},LbForceSqSecPerFoot:{name:"LbForceSqSecPerFoot",symbol:o.LbForceSqSecPerFoot,nls:l.LbForceSqSecPerFoot,ratio:.06852176585679177}},localStorage.getItem("CATWebUXMePreferencesUpdated")||function(){const e={DMUDisplayMarkupCreationDialog:{newKey:"DisplayMarkupCreationDialog"},DMUCreateFirstSlide:{newKey:"CreateFirstSlide"},DMUSlideNameFromFeature:{newKey:"SlideNameFromFeature"},DMUDisplaySlideTitle:{newKey:"DisplaySlideTitle"},DMUCaptureSpecLayers:{newKey:"CaptureSpecLayers"},DMUEnableSlideDragContent:{newKey:"SlideDragAndDropOperation",values:{0:"SlideReorder",1:"TransferView"}},DMUSnapHandlesToGrid:{newKey:"SnapHandlesToGrid"},DMUSnapHandlesGridValue:{newKey:"SnapHandlesGridValue"},DMUSnapRotationToggle:{newKey:"SnapRotationToggle"},DMUSnapRotationAngle:{newKey:"SnapRotationAngle"},DMUCompareFirstColor:{newKey:"CompareFirstColor"},DMUCompareSecondColor:{newKey:"CompareSecondColor"},DMUCompare3DCommonColor:{newKey:"Compare3DCommonColor"},DMUCompare2DCommonColor:{newKey:"Compare2DCommonColor"},DMUMeasureRemovePreviousNonPersistent:{newKey:"DMUMeasureRemovePreviousNonPersistent"},DMUComputeSectionContour:{newKey:"ComputeClippingContour"},C3DAllowDirectManipulation:{newKey:"C3DAllowDirectManipulation"},defaultMoveReferent:{newKey:"defaultMoveReferent"},"3DAnnotWhiteVectorAsBlack":{newKey:"WhiteVectorAsBlack"},"3DAnnotLoadARMPartsPref":{newKey:"LoadARMAnnotations"},"3DAnnotDisplayCapturesPref":{newKey:"DisplayOnlyCaptures"},"3DAnnotUpdateThumbnailsPref":{newKey:"UpdateThumbnails"},"3DAnnotKeepSelectedFeaturesPref":{newKey:"KeepSelectedFeatures"},FavoriteContextLoadMode:{newKey:"FavoriteContextLoadMode",values:{0:"AlwaysOpen",1:"Check",2:"Ignore"}},CATWebUXPreferences_TrailingZeros:{newKey:"TrailingZeros"},CATWebUXPreferences_GravitationalEffects:{newKey:"Gravity"},CATWebUXPreferences_ProjectionType:{newKey:"ProjectionType",values:{CATWebUXPreferences_Ortho:"Parallel",CATWebUXPreferences_Perspective:"Perspective"}},CATWebUXPreferences_Select3DGeometry:{newKey:"Select3DGeometry"},CATWebUXPreferences_SelectParentReferenceOr3DShape:{newKey:"SelectParentReferenceOr3DShape"},CATWebUXPreferences_Select2DGeometry:{newKey:"Select2DGeometry"},CATWebUXPreferences_ExportPersonalData:{newKey:"ExportPersonalData"},DMUDisplayReviewCreationDialog:{newKey:"DisplayReviewCreationDialog"},DMUAutomaticMarkupCreationDialog:{newKey:"AutomaticMarkupCreationDialog"},DMUMarkerValidatedStampLabel:{newKey:"MarkerValidatedStampLabel"},DMUMarkerRejectedStampLabel:{newKey:"MarkerRejectedStampLabel"},PIMwebContextLoadMode:{newKey:"PIMwebLoad",values:{0:"pimAllParts",1:"pimItfParts"}},"3DAnnotSemAttr_3DAnnotations":{newKey:"SemanticAttribute_3DAnnotations"},"3DAnnotSemAttr_0":{newKey:"SemanticAttribute_0"},"3DAnnotSemAttr_1":{newKey:"SemanticAttribute_1"},"3DAnnotSemAttr_2":{newKey:"SemanticAttribute_2"},"3DAnnotSemAttr_3":{newKey:"SemanticAttribute_3"},"3DAnnotSemAttr_4":{newKey:"SemanticAttribute_4"},"3DAnnotSemAttr_5":{newKey:"SemanticAttribute_5"},"3DAnnotSemAttr_6":{newKey:"SemanticAttribute_6"},"3DAnnotSemAttr_7":{newKey:"SemanticAttribute_7"}};Object.keys(e).forEach(a=>{const t=localStorage.getItem(a);if(t){const n="CATWebUXMePreferences_";if("CATWebUXPreferences_Units"===a){const e=JSON.parse(t);Object.keys(e).forEach(a=>{const t=e[a];localStorage.setItem(n+a,s[a][t.unit].newName||t.unit),localStorage.setItem(n+a+"Display",t.decimalPlaceRW),localStorage.setItem(n+a+"CalcDisplay",t.decimalPlaceRO)})}else if("DMUMeasureMainValueDisplay"===a){const e=JSON.parse(t);Object.keys(e).forEach(a=>{const t=e[a];localStorage.setItem(n+a+".MeasureType",t.measureTypes),localStorage.setItem(n+a+".Unit",t.unitDisplay)})}else if("PIMwebPrefs"===a){const e=JSON.parse(t);"useStoredResults"in e&&localStorage.setItem(n+"IDStoredResults",Boolean(e.useStoredResults).toString()),e.geometries&&("mode"in e.geometries&&localStorage.setItem(n+"IDGeometries",2===e.geometries.mode?"idAllTypes":"idType"),"clash"in e.geometries&&localStorage.setItem(n+"IDGClash",0===e.geometries.clash?"idNone":"idCurve"),"contact"in e.geometries&&localStorage.setItem(n+"IDGContact",0===e.geometries.contact?"idNone":"idTriangle"),"clearance"in e.geometries&&localStorage.setItem(n+"IDGClearance",0===e.geometries.clearance?"idNone":"idTriangle")),e.quantifiers&&"minDist"in e.quantifiers&&localStorage.setItem(n+"IDQMinDist",e.quantifiers.minDist?"idMinDist":"idNone"),e.partsOverload&&("type"in e.partsOverload&&localStorage.setItem(n+"IDColorOverLoading",e.partsOverload.type?"colorType":"colorInstance"),"parts"in e.partsOverload&&(e.partsOverload.parts[0]&&localStorage.setItem(n+"IDColorInstance1",e.partsOverload.parts[0]),e.partsOverload.parts[1]&&localStorage.setItem(n+"IDColorInstance2",e.partsOverload.parts[1])),"itfType"in e.partsOverload&&(e.partsOverload.itfType[0]&&localStorage.setItem(n+"IDColorItfClash",e.partsOverload.itfType[0]),e.partsOverload.itfType[1]&&localStorage.setItem(n+"IDColorItfContact",e.partsOverload.itfType[1]),e.partsOverload.itfType[2]&&localStorage.setItem(n+"IDColorItfClearance",e.partsOverload.itfType[2])),"transparency"in e.partsOverload&&localStorage.setItem(n+"IDItfPartsTransparency",e.partsOverload.transparency))}else{const l=e[a];l.values?localStorage.setItem(n+l.newKey,l.values[t]):localStorage.setItem(n+l.newKey,t)}localStorage.removeItem(a)}}),localStorage.setItem("CATWebUXMePreferencesUpdated","true")}(),s}),define("DS/CATWebUXPreferences/CATWebUXPreferencesManager",["UWA/Core","UWA/Class","DS/Controls/Toggle","DS/Controls/SpinBox","DS/Controls/Button","DS/Windows/Dialog","DS/Controls/Expander","DS/Controls/ColorPicker","DS/Controls/ComboBox","DS/Controls/LineEditor","DS/Controls/Label","DS/Controls/ButtonGroup","DS/DataGridView/DataGridView","DS/Tree/TreeDocument","DS/Tree/TreeNodeModel","DS/CoreEvents/ModelEvents","DS/PlatformAPI/PlatformAPI","DS/CATWebUXPreferences/CATWebUXPreferencesUtils","i18n!DS/CATWebUXPreferences/assets/nls/CATWebUXPreferences"],function(e,a,t,n,l,o,i,r,u,s,d,m,p,c,f,y,b,_,g){"use strict";var V=g&&g.units?g.units:{},D=g&&g.unitSymbols?g.unitSymbols:{},M=g&&g.types?g.types:{};const S=[],h={CATWebUXPreferences_TrailingZeros:"TrailingZeros",CATWebUXPreferences_GravitationalEffects:"Gravity",CATWebUXPreferences_ProjectionType:"ProjectionType",CATWebUXPreferences_Select3DGeometry:"Select3DGeometry",CATWebUXPreferences_SelectParentReferenceOr3DShape:"SelectParentReferenceOr3DShape",CATWebUXPreferences_Select2DGeometry:"Select2DGeometry"};var C=a.extend({init:function(a){var C=a||{};this._parent(C);var P,A=[],v=[],x=[],T=[],R={display:!1,units:!1,sel3D:!1,sel2D:!1},I=new y,U=this;function w(e,a){I&&I.publish({event:e,data:a})}var F=b.subscribe("onWidgetPreferenceModified",function(e){var a=e?JSON.parse(e):null;a&&w(a.name,a.value)}),L=b.subscribe("com.ds.mep:onPrefUpdate",function(e){e&&w("com.ds.mep:onPrefUpdate",e)});function W(e){var a=localStorage.getItem("CATWebUXPreferences_ExpandedFlags");return a&&a.length&&(a=JSON.parse(a)),!a||"true"!==a[e]&&"false"!==a[e]||"true"===a[e]}function O(e,a){var t=localStorage.getItem("CATWebUXPreferences_ExpandedFlags");(t=t&&t.length?JSON.parse(t):{})[e]=a?"true":"false",localStorage.setItem("CATWebUXPreferences_ExpandedFlags",JSON.stringify(t))}function k(e,a){for(var t=0;t<v.length;t++)"checkbox+spinbox"!==v[t].spec.type&&"spinbox"!==v[t].spec.type||("Angle"===e?v[t].ui.spinbox.units===D.Degree&&"Radian"===a?(v[t].ui.spinbox.minValue=Math.PI/180,v[t].ui.spinbox.stepValue=.01,v[t].ui.spinbox.pageStepValue=.01,v[t].ui.spinbox.value=_.convert(v[t].ui.spinbox.value,e,"Degree",a),v[t].ui.spinbox.maxValue=2*Math.PI,v[t].ui.spinbox.units=D.Radian):v[t].ui.spinbox.units===D.Radian&&"Degree"===a&&(v[t].ui.spinbox.maxValue=360,v[t].ui.spinbox.value=_.convert(v[t].ui.spinbox.value,e,"Radian",a),v[t].ui.spinbox.stepValue=1,v[t].ui.spinbox.pageStepValue=1,v[t].ui.spinbox.minValue=1,v[t].ui.spinbox.units=D.Degree):"Length"===e&&(v[t].ui.spinbox.units===D.Millimeter?"Inch"!==a&&"Foot"!==a||(v[t].ui.spinbox.minValue=.01,v[t].ui.spinbox.stepValue=.01,v[t].ui.spinbox.pageStepValue=.01,v[t].ui.spinbox.value=_.convert(v[t].ui.spinbox.value,e,"Millimeter","Inch"),v[t].ui.spinbox.units=D.Inch):v[t].ui.spinbox.units===D.Inch&&("Millimeter"!==a&&"Centimeter"!==a&&"Meter"!==a&&"Kilometer"!==a||(v[t].ui.spinbox.value=_.convert(v[t].ui.spinbox.value,e,"Inch","Millimeter"),v[t].ui.spinbox.minValue=1,v[t].ui.spinbox.stepValue=1,v[t].ui.spinbox.pageStepValue=1,v[t].ui.spinbox.units=D.Millimeter))))}var N={},E={},G={},X=!1;function B(e,a){if(-1!==e.rowID)for(var t=_.Types,n=Object.keys(t),l=0;l<n.length;l++)M[t[n[l]].name]===e.nodeModel.options.label&&(k(t[n[l]].name,a),N[t[n[l]].name]=a,X=!0)}function K(e,a){if(-1!==e.rowID)for(var t=_.Types,n=Object.keys(t),l=0;l<n.length;l++)M[t[n[l]].name]===e.nodeModel.options.label&&(E[t[n[l]].name]=parseInt(a),X=!0)}function j(e,a){if(-1!==e.rowID)for(var t=_.Types,n=Object.keys(t),l=0;l<n.length;l++)M[t[n[l]].name]===e.nodeModel.options.label&&(G[t[n[l]].name]=parseInt(a),X=!0)}function q(){for(var e=0;e<v.length;e++)if(v[e].spec.visibilityCondition)for(var a=0;a<v.length;a++)if(v[a].spec.id===v[e].spec.visibilityCondition.id){var t;if("checkbox"===v[a].spec.type)t=v[a].ui.checkFlag;else if("radio"===v[a].spec.type||"radiobutton"===v[a].spec.type){for(var n=0;n<v[a].ui.length;n++)if(v[a].ui[n].checkFlag){t=v[a].ui[n].value;break}}else"combo"===v[a].spec.type?t=v[a].ui.value:"editor"===v[a].spec.type?t=v[a].ui.value:"color"===v[a].spec.type?t=v[a].ui.value:"checkbox+spinbox"===v[a].spec.type?t=v[a].ui.checkbox.checkFlag:"spinbox"===v[a].spec.type&&(t=v[a].ui.spinbox.value);v[e].prefDiv.setStyle("display",t===v[e].spec.visibilityCondition.value?"":"none");break}}function H(a,t){if(t&&t.columnInfo&&t.id&&t.type){var n=e.createElement("div");if(t.withExpander&&t.expanderHeader&&t.expanderID){var l=new i({header:t.expanderHeader,body:n,style:"divided"});l.expandedFlag=W(t.expanderID),l.getContent().addEventListener("expand",function(){O(t.expanderID,!0)}),l.getContent().addEventListener("collapse",function(){O(t.expanderID,!1)}),l.inject(a)}else n.inject(a);if(t.gridTitle){var o=new d({value:t.gridTitle});o.getContent().setStyles({"font-weight":"bold","text-align":"left"}),o.getContent().style.background="none",o.inject(n)}var r=new c({useAsyncPreExpand:!1,shouldAcceptDrag:function(){return!1},shouldAcceptDrop:function(){return!1}}),u={identifier:t.id,treeDocument:r,defaultColumnDef:{width:"auto"},columns:t.columnInfo,rowSelection:"single",showRowIndexFlag:!1,showSelectionCheckBoxesFlag:!1,cellSelection:{defaultValue:"none"},rowDragEnabledFlag:!1,cellDragEnabledFlag:!1,activateAllCellsRenderedEventFlag:!0,showRowBorderFlag:!0,placeholder:"",recId:t.id},s=new p(u);s.layout.rowsHeader=!1,t.enumID&&t.enumVal&&s.getTypeRepresentationFactory().registerEnum(t.enumID,t.enumVal),t.typeRepresentation&&s.getTypeRepresentationFactory().registerTypeRepresentations(t.typeRepresentation);var m=e.createElement("div",{styles:{position:"relative",height:25*((t.displayHeight?t.displayHeight:5)+1)+2+"px",margin:"10px 0px"}}).inject(n);return s.inject(m),t.initGridDataCB(r),v.push({prefDiv:s,ui:n,spec:{id:t.id,type:t.type,refreshDefaultValues:function(){var e=r.getRoots();t.refreshDefaultValuesCB(e)},updateGridValues:function(){t.updateGridValuesCB()}}}),n}}function J(a,o){var i;if("checkbox"===a.type)i=new t({label:a.nls,value:a.id,type:a.type,checkFlag:a.getValue()}).inject(o),-1!==T.indexOf(a.id)&&i.addEventListener("change",q),v.push({prefDiv:i,ui:i,spec:a});else if("radio"===a.type){let n=e.createElement("label",{text:a.nls,class:"CATWebUXRadioSectionTitle",styles:{"margin-bottom":"0px",padding:"10px 0px"}}).inject(o);a.nls||n.setStyle("display","none");let l=e.createElement("div",{styles:{"padding-bottom":"10px","margin-left":"10px"}}).inject(o),r=a.getValue(),u=[];for(let n=0;n<a.options.length;n++){if(i=new t({label:a.options[n].nls,value:a.options[n].id,type:"radio",checkFlag:a.options[n].id===r}).inject(l),a.options[n].content){let t=e.createElement("div",{styles:{"margin-left":"25px"}}).inject(l);for(let e=0;e<a.options[n].content.length;e++){J(a.options[n].content[e],t)}}u.push(i),-1!==T.indexOf(a.id)&&i.addEventListener("change",q),a.onChange&&i.addEventListener("change",e=>{e.dsModel.checkFlag&&a.onChange(e.dsModel.value)})}v.push({prefDiv:l,ui:u,spec:a})}else if("radiobutton"===a.type){let t=e.createElement("div",{styles:{display:"grid","grid-template-columns":"30% 60%",margin:"2px 0"}}).inject(o),n=e.createElement("span",{text:a.nls,class:"CATWebUXRadioSectionTitle",styles:{margin:"auto 0px"}}).inject(t);a.nls||n.setStyle("display","none");let r=a.getValue(),u=[],s=new m({}).inject(t);for(let e=0;e<a.options.length;e++)i=new l({label:a.options[e].nls,value:a.options[e].id,type:"radio",disabled:a.isDisabled&&a.isDisabled(),icon:a.options[e].icon?{iconName:a.options[e].icon,fontIconFamily:WUXManagedFontIcons.Font3DS}:void 0,checkFlag:a.options[e].id===r}),s.addChild(i),u.push(i),-1!==T.indexOf(a.id)&&i.addEventListener("change",q),a.onChange&&i.addEventListener("change",e=>{e.dsModel.checkFlag&&a.onChange(e.dsModel.value)});v.push({prefDiv:t,ui:u,spec:a})}else if("editor"===a.type){let t=e.createElement("div",{class:"CATWebUXEditorSectionTitle",styles:{width:"100%"}}).inject(o),n=e.createElement("label",{text:a.nls,class:"CATWebUXEditorSectionTitle",styles:{"margin-bottom":"0px",padding:"10px 0px",display:"inline-block","font-weight":"normal"}}).inject(t);a.nls||n.setStyle("display","none");let l=new s({value:a.getValue(),selectAllOnFocus:!0,autoCommitFlag:!0}).inject(t);l.elements.container.setStyles({display:"inline-block","padding-left":"10px"}),v.push({prefDiv:l,ui:l,spec:a})}else if("combo"===a.type){let t=e.createElement("div",{styles:{display:"grid","grid-template-columns":"30% 60%",margin:"2px 0"}}).inject(o),n=e.createElement("span",{text:a.nls,class:"CATWebUXComboSectionTitle",styles:{margin:"auto 0px"}}).inject(t);a.nls||n.setStyle("display","none");let l=[];a.options.forEach(function(e){l.push({labelItem:e.nls,valueItem:e.id})});let i=new u({elementsList:l,value:a.getValue(),disabled:a.isDisabled&&a.isDisabled(),enableSearchFlag:"undefined"===a.enableSearchFlag||a.enableSearchFlag}).inject(t);-1!==T.indexOf(a.id)&&i.addEventListener("change",q),a.onChange&&i.addEventListener("change",e=>{a.onChange(e.dsModel.value)}),v.push({prefDiv:t,ui:i,spec:a})}else if("color"===a.type){var d=e.createElement("div",{class:"CATWebUXColorPickerDiv"}).inject(o);if(i=new r({value:a.getValue(),alignment:"left"}).inject(d),a.nls)e.createElement("p",{class:"CATWebUXColorPickerLabel",styles:{display:"inline-block","vertical-align":"super","margin-left":"5px"}}).inject(d).innerText=a.nls;-1!==T.indexOf(a.id)&&i.addEventListener("change",q),v.push({prefDiv:d,ui:i,spec:a})}else if("checkbox+spinbox"===a.type){let l=e.createElement("div",{class:"CATWebUXCheckSpinboxCombo",styles:{display:"flex","align-items":"center","margin-bottom":"5px"}}).inject(o);i=new t({label:a.prefixnls+": ",value:a.id,type:"checkbox",checkFlag:a.getValue()}).inject(l);let r=e.createElement("div",{styles:{display:"flex","margin-left":"5px",width:"150px"}}).inject(l),u=a.getSpinBoxValues(),s=new n({value:u.value,units:D[u.units],minValue:u.minValue,maxValue:u.maxValue,stepValue:u.stepValue,disabled:a.disableSpinboxAtUncheck&&!a.getValue(),pageStepValue:1}).inject(r);e.createElement("label",{text:a.suffixnls,class:"wux-label",styles:{"margin-bottom":"0px",padding:"5px","font-weight":"inherit"}}).inject(l),a.disableSpinboxAtUncheck&&i.addEventListener("change",function(e){s.disabled=!e.dsModel.checkFlag}),-1!==T.indexOf(a.id)&&(i.addEventListener("change",q),s.addEventListener("change",q)),v.push({prefDiv:i,ui:{checkbox:i,spinbox:s},spec:a})}else if("spinbox"===a.type){let t=e.createElement("div",{class:"CATWebUXSpinboxCombo",styles:{display:"grid","grid-template-columns":"30% 70%",margin:"2px 0"}}).inject(o),l=e.createElement("span",{text:a.nls,class:"CATWebUXSpinboxTitle",styles:{margin:"auto 0px"}}).inject(t);a.nls||l.setStyle("display","none");let r=e.createElement("div").inject(t),u=a.getSpinBoxValues(),s=new n({value:u.value,units:V[u.units],minValue:u.minValue,maxValue:u.maxValue,stepValue:u.stepValue,disabled:a.isDisabled&&a.isDisabled()||a.disableSpinboxAtUncheck&&!a.getValue(),pageStepValue:1}).inject(r);v.push({prefDiv:i,ui:{spinbox:s},spec:a})}else"dataGrid"===a.type&&H(o,a)}let Z;function Y(a,t){var n=e.createElement("div"),l=new i({header:a.nls,body:n,style:"divided"});l.expandedFlag=W(a.id),l.getContent().addEventListener("expand",function(){O(a.id,!0)}),l.getContent().addEventListener("collapse",function(){O(a.id,!1)}),l.inject(t);for(var o=a.preferences,r=0;r<o.length;r++)"section"===o[r].type?Y(o[r],n):"sectionNoExpander"===o[r].type?Z(o[r],n):J(o[r],n)}Z=function(a,t){var n=e.createElement("div",{styles:{"padding-bottom":"10px"}});n.inject(t);var l=new d({value:a.nls});l.getContent().setStyles({"font-weight":"bold","text-align":"left"}),l.getContent().style.background="none",l.inject(n),n=e.createElement("div",{styles:{"margin-left":"10px"}}).inject(n);for(var o=a.preferences,i=0;i<o.length;i++)"section"===o[i].type?Y(o[i],n):"sectionNoExpander"===o[i].type?Z(o[i],n):J(o[i],n)},this.displayPreferencePanel=function(a){if(!P&&a&&(A&&A.length||R.units||R.display||R.sel3D||R.sel2D)){T.length=0;var t,n,r,u,s=e.createElement("div"),d=function(e){if(e.visibilityCondition&&T.push(e.visibilityCondition.id),"section"===e.type||"sectionNoExpander"===e.type)for(var a=0;a<e.preferences.length;a++)d(e.preferences[a])};for(t=0;t<A.length;t++)d(A[t]);if(x&&x.length)for(var m=0;m<x.length;m++)for(t=0;t<A.length;t++)if(A[t].id===x[m]){"section"===A[t].type?Y(A[t],s):"sectionNoExpander"===A[t].type?Z(A[t],s):J(A[t],s);break}for(t=0;t<A.length;t++)-1===x.indexOf(A[t].id)&&("section"===A[t].type?Y(A[t],s):"sectionNoExpander"===A[t].type?Z(A[t],s):J(A[t],s));R.units&&function(e){var a,t,n,l,o=_.Types,i=Object.keys(o),r={};for(a=0;a<i.length;a++){t={},n=_[i[a]],l=Object.keys(n);for(var u=0;u<l.length;u++)n[l[u]].deprecatedName&&(t[n[l[u]].symbol]=n[l[u]].name);r[i[a]]={stdTemplate:"enumCombo",semantics:{possibleValues:t,valueType:"enumCustom"}}}var s=[];s.push({text:g.magnitudeCol,dataIndex:"tree",editableFlag:!1}),s.push({text:g.unitCol,dataIndex:"unit",editableFlag:!0,getCellTypeRepresentation:function(e){if(-1!==e.rowID){for(var a=0;a<i.length;a++)if(M[o[i[a]].name]===e.nodeModel.options.label)return o[i[a]].name;return""}},editionPolicy:"EditionOnOver",setCellValue:B}),s.push({icon:"wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-lock-open",description:g.decimalPlaceRW,dataIndex:"decimalPlaceRW",editionPolicy:"EditionOnOver",editableFlag:!0,typeRepresentation:"DecimalPlaceEnum",setCellValue:K}),s.push({icon:"wux-ui-3ds wux-ui-3ds-1x wux-ui-3ds-lock",description:g.decimalPlaceRO,dataIndex:"decimalPlaceRO",editionPolicy:"EditionOnOver",editableFlag:!0,typeRepresentation:"DecimalPlaceEnum",setCellValue:j});let d={};var m,p,c;i.forEach(e=>{d[e]={unit:_.getPreference(e),decimalPlaceRW:_.getPreference(e+"Display","int"),decimalPlaceRO:_.getPreference(e+"CalcDisplay","int")}});var y=H(e,{withExpander:!0,expanderID:"Units",expanderHeader:g.unitsLabel,columnInfo:s,id:"CATWebUXPreferences_UnitsAndDecimalPlace",type:"dataGrid",displayHeight:i.length,typeRepresentation:r,enumID:"DecimalPlaceEnum",enumVal:[0,1,2,3,4,5,6,7,8,9],initGridDataCB:function(e){for(a=0;a<i.length;a++)c=o[i[a]].name,(p=d&&d[c]?d[c]:null)||(p={unit:o[i[a]].defaultValue,decimalPlaceRW:o[i[a]].defaultDecimalPlaceRW,decimalPlaceRO:o[i[a]].defaultDecimalPlaceRO}),m=new f({label:M[c],grid:{unit:p.unit,decimalPlaceRW:p.decimalPlaceRW,decimalPlaceRO:p.decimalPlaceRO}}),e.addRoot(m)},refreshDefaultValuesCB:function(e){for(a=0;a<i.length;a++){c=o[i[a]].name,N[c]!==o[i[a]].defaultValue&&(N[c]=o[i[a]].defaultValue,X=!0),E[c]!==o[i[a]].defaultDecimalPlaceRW&&(E[c]=o[i[a]].defaultDecimalPlaceRW,X=!0),G[c]!==o[i[a]].defaultDecimalPlaceRO&&(G[c]=o[i[a]].defaultDecimalPlaceRO,X=!0);for(var t=0;t<e.length;t++)if(M[c]===e[t].options.label){e[t].updateOptions({grid:{unit:o[i[a]].defaultValue,decimalPlaceRW:o[i[a]].defaultDecimalPlaceRW,decimalPlaceRO:o[i[a]].defaultDecimalPlaceRO}});break}}},updateGridValuesCB:function(){if(X){var e={},t={};for(S.length=0,a=0;a<i.length;a++){c=o[i[a]].name,(p=d&&d[c]?d[c]:null)||(p={unit:o[i[a]].defaultValue,decimalPlaceRW:o[i[a]].defaultDecimalPlaceRW,decimalPlaceRO:o[i[a]].defaultDecimalPlaceRO});var n=p.unit;if(N[c])for(var l=Object.keys(V),r=0;r<l.length;r++)if(l[r]===N[c]){n=l[r];break}const u="number"==typeof E[c]&&E[c]>=0?E[c]:p.decimalPlaceRW,s="number"==typeof G[c]&&G[c]>=0?G[c]:p.decimalPlaceRO;localStorage.setItem("CATWebUXMePreferences_"+i[a],n),localStorage.setItem("CATWebUXMePreferences_"+i[a]+"Display",u),localStorage.setItem("CATWebUXMePreferences_"+i[a]+"CalcDisplay",s),n!==p.unit&&S.push(i[a]),u!==p.decimalPlaceRW&&S.push(i[a]+"Display"),s!==p.decimalPlaceRO&&S.push(i[a]+"CalcDisplay"),e[i[a]]={unit:n,decimalPlaceRW:u,decimalPlaceRO:s},t[i[a]]={unit:D[n],decimalPlaceRW:u,decimalPlaceRO:s}}return JSON.stringify(e)!==JSON.stringify(d)?(localStorage.setItem("CATWebUXPreferences_Units",JSON.stringify(t)),b.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_UnitsAndDecimalPlace",value:t})),t):void 0}}});J({id:"TrailingZeros",nls:g.trailingZeros,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_TrailingZeros")},getDefaultValue:function(){return!1},setValue:function(e){"true"===localStorage.getItem("CATWebUXMePreferences_TrailingZeros")!==e&&(localStorage.setItem("CATWebUXPreferences_TrailingZeros",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_TrailingZeros",e?"true":"false"),b.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_TrailingZeros",value:e})))}},y)}(s),R.display&&(n=s,r=e.createElement("div"),(u=new i({header:g.displayLabel,body:r,style:"divided"})).expandedFlag=W("Display"),u.getContent().addEventListener("expand",function(){O("Display",!0)}),u.getContent().addEventListener("collapse",function(){O("Display",!1)}),u.inject(n),J({id:"Gravity",nls:g.gravitationalEffects,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_Gravity")},getDefaultValue:function(){return!1},setValue:function(e){localStorage.setItem("CATWebUXPreferences_GravitationalEffects",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_Gravity",e?"true":"false"),b.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_GravitationalEffects",value:e}))}},r),J({id:"ProjectionType",nls:g.projectionType,type:"radio",getValue:function(){return localStorage.getItem("CATWebUXMePreferences_ProjectionType")||"Perspective"},getDefaultValue:function(){return"Perspective"},setValue:function(e){localStorage.setItem("CATWebUXPreferences_ProjectionType","Parallel"===e?"1":"0"),localStorage.setItem("CATWebUXMePreferences_ProjectionType","Parallel"===e?"Parallel":"Perspective"),b.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_ProjectionType",value:"Parallel"===e?1:0}))},options:[{id:"Parallel",nls:g.orthographic},{id:"Perspective",nls:g.perspective}]},r)),(R.sel3D||R.sel2D)&&function(a){var t=e.createElement("div"),n=new i({header:g.selectionLabel,body:t,style:"divided"});n.expandedFlag=W("Selection"),n.getContent().addEventListener("expand",function(){O("Selection",!0)}),n.getContent().addEventListener("collapse",function(){O("Selection",!1)}),n.inject(a),R.sel3D&&(J({id:"Select3DGeometry",nls:g.select3DGeometry,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_Select3DGeometry")},getDefaultValue:function(){return!1},setValue:function(e){localStorage.setItem("CATWebUXPreferences_Select3DGeometry",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_Select3DGeometry",e?"true":"false"),b.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_Select3DGeometry",value:e}))}},t),J({id:"SelectParentReferenceOr3DShape",nls:g.selectParentReferenceOr3DShape,type:"radio",options:[{id:"selectParentReference",nls:g.selectParentReference},{id:"select3DShape",nls:g.select3DShape}],getValue:function(){return localStorage.getItem("CATWebUXMePreferences_SelectParentReferenceOr3DShape")||"selectParentReference"},getDefaultValue:function(){return"selectParentReference"},setValue:function(e){localStorage.setItem("CATWebUXPreferences_SelectParentReferenceOr3DShape",e),localStorage.setItem("CATWebUXMePreferences_SelectParentReferenceOr3DShape",e),b.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_SelectParentReferenceOr3DShape",value:e}))}},t)),R.sel2D&&J({id:"Select2DGeometry",nls:g.select2DGeometry,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_Select2DGeometry")},getDefaultValue:function(){return!1},setValue:function(e){localStorage.setItem("CATWebUXPreferences_Select2DGeometry",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_Select2DGeometry",e?"true":"false"),b.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_Select2DGeometry",value:e}))}},t)}(s),R.exportSection&&function(a){var t=e.createElement("div"),n=new i({header:g.exportLabel,body:t,style:"divided"});n.expandedFlag=W("Export"),n.getContent().addEventListener("expand",function(){O("Export",!0)}),n.getContent().addEventListener("collapse",function(){O("Export",!1)}),n.inject(a),J({id:"ExportPersonalData",nls:g.exportPersonalData,type:"checkbox",getValue:function(){return"true"===localStorage.getItem("CATWebUXMePreferences_ExportPersonalData")},getDefaultValue:function(){return!1},setValue:function(e){localStorage.setItem("CATWebUXPreferences_ExportPersonalData",e?"true":"false"),localStorage.setItem("CATWebUXMePreferences_ExportPersonalData",e?"true":"false"),b.publish("onWidgetPreferenceModified",JSON.stringify({name:"CATWebUXPreferences_ExportPersonalData",value:e}))}},t)}(s),T.length&&q();var p=new l({emphasize:"primary",label:g.saveButton,onClick:function(){w("onBeforeChangingPreferences");var e=[];if(v.forEach(function(a){if("checkbox"===a.spec.type)a.spec.getValue()!==a.ui.checkFlag&&(a.spec.setValue(a.ui.checkFlag),e.push({id:a.spec.id,value:a.ui.checkFlag}));else if("radio"===a.spec.type||"radiobutton"===a.spec.type){for(let t=0;t<a.ui.length;t++)if(a.ui[t].checkFlag&&a.spec.getValue()!==a.ui[t].value){a.spec.setValue(a.ui[t].value),e.push({id:a.spec.id,value:a.ui[t].value});break}}else if("editor"===a.spec.type)a.spec.getValue()!==a.ui.value&&(a.spec.setValue(a.ui.value),e.push({id:a.spec.id,value:a.ui.value}));else if("combo"===a.spec.type)a.spec.getValue()!==a.ui.value&&(a.spec.setValue(a.ui.value),e.push({id:a.spec.id,value:a.ui.value}));else if("color"===a.spec.type){if(a.spec.getValue()!==a.ui.value&&a.spec.getValue()!=="#"+a.ui.value){let t=a.ui.value.includes("#")?a.ui.value:"#"+a.ui.value;a.spec.setValue(t),e.push({id:a.spec.id,value:t})}}else if("dataGrid"===a.spec.type){var t=a.spec.updateGridValues();t&&e.push({id:a.spec.id,value:t})}else if("checkbox+spinbox"===a.spec.type){let t=a.spec.getSpinBoxValues();a.spec.getValue()===a.ui.checkbox.checkFlag&&a.ui.spinbox.value===t.value||(a.spec.setValue(a.ui.checkbox.checkFlag),a.ui.spinbox.units===D.Radian?a.spec.setSpinBoxValue(_.convert(a.ui.spinbox.value,"Angle","Radian","Degree")):a.ui.spinbox.units===D.Degree?a.spec.setSpinBoxValue(_.convert(a.ui.spinbox.value,"Angle","Degree","Radian")):a.ui.spinbox.units===D.Inch?a.spec.setSpinBoxValue(_.convert(a.ui.spinbox.value,"Length","Inch","Meter")):a.ui.spinbox.units===D.Millimeter?a.spec.setSpinBoxValue(_.convert(a.ui.spinbox.value,"Length","Millimeter","Meter")):a.spec.setSpinBoxValue(a.ui.spinbox.value),e.push({id:a.spec.id,value:a.ui.checkbox.checkFlag,spinBoxValue:a.ui.spinbox.value,units:a.ui.spinbox.units}))}else if("spinbox"===a.spec.type){let t=a.spec.getSpinBoxValues();a.ui.spinbox.value!==t.value&&(a.ui.spinbox.units===D.Radian?a.spec.setSpinBoxValue(_.convert(a.ui.spinbox.value,"Angle","Radian","Degree")):a.ui.spinbox.units===D.Degree?a.spec.setSpinBoxValue(_.convert(a.ui.spinbox.value,"Angle","Degree","Radian")):a.ui.spinbox.units===D.Inch?a.spec.setSpinBoxValue(_.convert(a.ui.spinbox.value,"Length","Inch","Meter")):a.ui.spinbox.units===D.Millimeter?a.spec.setSpinBoxValue(_.convert(a.ui.spinbox.value,"Length","Millimeter","Meter")):a.spec.setSpinBoxValue(a.ui.spinbox.value),e.push({id:a.spec.id,spinBoxValue:a.ui.spinbox.value,units:a.ui.units}))}}),U.clearPreferencePanel(),e.length||S.length){let a={Repository:"",PreferenceNames:[]};for(let t=0;t<e.length;t++){if(a.PreferenceNames.push(e[t].id),"SnapHandlesToGrid"===e[t].id){a.PreferenceNames.push("SnapHandlesGridValue");const e=h.SnapHandlesGridValue;e&&a.PreferenceNames.push(e)}else if("SnapRotationToggle"===e[t].id){a.PreferenceNames.push("SnapRotationAngle");const e=h.SnapRotationToggleAngle;e&&a.PreferenceNames.push(e)}const n=h[e[t].id];n&&a.PreferenceNames.push(n)}S.length&&(a.PreferenceNames=a.PreferenceNames.concat(S),S.length=0);let t=_._generatePreferencesObject([a],!0),n=[{version:"1.0"},{preferences:JSON.stringify(t)},{tenantId:""}];w("onPreferencesChanged",e),w("com.ds.mep:onPrefUpdate",n)}w("onAfterChangingPreferences")}}),c=new l({label:g.resetButton,onClick:function(){v.forEach(function(e){if("dataGrid"===e.spec.type)e.spec.refreshDefaultValues();else{var a=e.spec.getDefaultValue&&e.spec.getDefaultValue();if("checkbox"===e.spec.type)e.ui.checkFlag=a;else if("radio"===e.spec.type||"radiobutton"===e.spec.type)for(var t=0;t<e.ui.length;t++)e.ui[t].value===a&&(e.ui[t].checkFlag=!0);else if("combo"===e.spec.type)e.ui.value=a;else if("editor"===e.spec.type)e.ui.value=a;else if("color"===e.spec.type)e.ui.value=a;else if("checkbox+spinbox"===e.spec.type){e.ui.checkbox.checkFlag=a;let t=e.spec.getSpinBoxDefaultValues();e.ui.spinbox.value=t.value,e.ui.spinbox.units=D[t.units],e.ui.spinbox.minValue=t.minValue,e.ui.spinbox.maxValue=t.maxValue,e.ui.spinbox.stepValue=t.stepValue}else if("spinbox"===e.spec.type){let a=e.spec.getSpinBoxDefaultValues();e.ui.spinbox.value=a.value,e.ui.spinbox.units=D[a.units],e.ui.spinbox.minValue=a.minValue,e.ui.spinbox.maxValue=a.maxValue,e.ui.spinbox.stepValue=a.stepValue}}})}}),y=new l({label:g.cancelButton,onClick:U.clearPreferencePanel}),C=a.getImmersiveFrame?a.getImmersiveFrame().getFreeZone().getSize().height:a&&a.getOffsetHeight?a.getOffsetHeight():650;C-=150,C=Math.max(C,300),P=new o({modalFlag:!!a.getImmersiveFrame||void 0,ensureHeightDefinitionOnHierarchy:!0,title:g.panelTitle,content:s,resizableFlag:!0,immersiveFrame:a.getImmersiveFrame?a.getImmersiveFrame():void 0,height:C,buttons:{Abort:y,Ok:p,Apply:c}}),a.getImmersiveFrame||a.appendChild(P.elements.container),P.addEventListener("close",U.clearPreferencePanel)}},this.setPreferencesEnableFlag=function(e,a){v.filter(a=>e.includes(a.spec.id)).forEach(e=>{if("disabled"in e.ui)e.ui.disabled=!a;else{Object.keys(e.ui).forEach(t=>{e.ui[t].disabled=!a})}})},this.setPreferenceValue=function(e,a){let t=v.find(a=>a.spec.id===e);if("value"in t.ui)t.ui.value=a;else{Object.keys(t.ui).forEach(e=>{"value"in t.ui[e]&&(t.ui[e].value=a)})}},this.getPreferenceValue=function(e){let a=v.find(a=>a.spec.id===e);if("value"in a.ui)return a.ui.value;if("radiobutton"===a.spec.type)return a.ui.find(e=>e.checkFlag).value;let t=Object.keys(a.ui);for(let e=0;e<t.length;e++){const n=t[e];if("value"in a.ui[n])return a.ui[n].value}},this.clearPreferencePanel=function(){v.length=0,P&&(P.destroy(),P=null),w("onPreferencesPanelDestroyed")},this.addPreferences=function(e){if(Array.isArray(e))for(var a=0;a<e.length;a++)if(e[a].id){for(var t=!1,n=0;n<A.length;n++)A[n].id===e[a].id&&(t=!0);t||A.push(e[a])}},this.removeAllPreferences=function(){R={display:!1,units:!1,sel3D:!1,sel2D:!1},U.removePreferences()},this.removePreferences=function(e){if(!e)return A.length=0,void(x.length=0);for(var a=0;a<e.length;a++)for(var t=A.length-1;t>=0;t--)if(A[t].id===e[a]){A.splice(t,1);break}},this.setUnitsPreferencesDisplayFlag=function(e){R.units!==e&&(R.units=e)},this.setDisplayPreferencesDisplayFlag=function(e){R.display!==e&&(R.display=e)},this.set3DSelectionPreferencesDisplayFlag=function(e){R.sel3D!==e&&(R.sel3D=e)},this.set2DSelectionPreferencesDisplayFlag=function(e){R.sel2D!==e&&(R.sel2D=e)},this.setExportPreferencesDisplayFlag=function(e){R.exportSection!==e&&(R.exportSection=e)},this.getGenericPreferencesDisplayFlag=function(){return{units:R.units,display:R.display}},this.setPreferredPreferenceContainersOrder=function(e){x.length=0,e&&e.length&&(x=x.concat(e))},this.clearPreferenceManager=function(){U.clearPreferencePanel(),F&&(b.unsubscribe(F),F=0),L&&(b.unsubscribe(L),L=0),A.length=0,x.length=0},this.subscribe=function(e,a){if(e&&a&&I)return I.subscribe({event:e},a)},this.unsubscribe=function(e){I&&e&&I.unsubscribe(e)}}}),P=[];return a.singleton({init:function(){},givePreferenceManager:function(e){var a;return e&&e.context&&P.some(function(t){if(t.context===e.context)return a=t.preferenceMng,!0}),a},getPreferenceManager:function(e){var a,t;return e&&e.context&&P.some(function(t){if(t.context===e.context)return a=t,!0}),!a&&e&&e.context?(t=new C({context:e.context}),P.push({context:e.context,preferenceMng:t,counter:1})):a&&(a.counter++,t=a.preferenceMng),t},unreferencePreferenceManager:function(e){e&&e.context&&P.some(function(a,t){if(a.context===e.context)return P[t].counter--,P[t].counter<=0&&(P[t].preferenceMng.clearPreferenceManager(),P.splice(t,1)),!0})}})}),define("DS/CATWebUXPreferences/CATWebUXPreferencesCmd",["DS/ApplicationFrame/Command","DS/CATWebUXPreferences/CATWebUXPreferencesManager"],function(e,a){"use strict";return e.extend({init:function(e){this._parent(e,{mode:"shared",isAsynchronous:!0}),this.setRepeatMode(!1);var t=this;localStorage.getItem("CATWebUXMePreferencesActivation")?localStorage.setItem("CATWebUXMePreferenceImplementation",localStorage.getItem("CATWebUXMePreferencesActivation")):require(["text!DS/CATWebUXPreferences/assets/json/CATWebUXMePreferencesActivation.json"],e=>{const a=JSON.parse(e);localStorage.setItem("CATWebUXMePreferenceImplementation",a.activate)}),this.beginExecute=function(){if("true"===localStorage.getItem("CATWebUXMePreferenceImplementation")){require(["DS/MePreferencesClientAPI/MePreferencesClientAPI"],e=>{if(e&&e.getMePreferencesDialog){const a=window.widget.getValue("appId");e.getMePreferencesDialog(`3DSApp.${a}`).then(e=>{e.inject(t.getFrameWindow().getImmersiveFrame().getContent())})}})}else{var e=a.givePreferenceManager({context:t.getFrameWindow()});e&&e.displayPreferencePanel(t.getFrameWindow())}t.end()}}})});