define("DS/DomFactory/DomFactory",["require","exports","DS/Tweakers/GeneratedToolbar","DS/Controls/TooltipModel","DS/Utilities/Dom","DS/Utilities/TouchUtils","i18n!DS/DomFactory/assets/nls/translation"],function(e,t,o,n,i,a,l){"use strict";return class{static createDomWithTitleBarAndContent(e){if(!e||!e.title&&!e.close&&!e.maximize&&!e.commands)return;let t,s=void 0===e.touchMode?a.getTouchMode():e.touchMode,r=document.createElement("div");if(r.classList.add("wux-domwithtitlebarandcontent"),e.title&&"string"==typeof e.title){(t=document.createElement("div")).classList.add("wux-domwithtitlebarandcontent-title"),r.appendChild(t),t.tooltipInfos=new n({shortHelp:e.title});let o=document.createElement("span");o.innerText=e.title,t.appendChild(o),s&&r.setAttribute("touch-mode","")}let d={entries:[]};e.commands&&(d.entries=e.commands.map(e=>(e.dataElements.position="far",delete e.priority,e))),"function"==typeof e.maximize&&(d.entries.push({id:"wuxMaximizeButton",dataElements:{typeRepresentation:"functionIcon",tooltip:l.maximize,icon:{iconName:"resize-full",fontIconFamily:WUXManagedFontIcons.Font3DS},value:t=>{let o=t.context.nodeModel.getAttributeValue("semantics").icon.iconName;t.context.nodeModel.updateOptions({grid:{semantics:{icon:{iconName:"resize-full"===o?"resize-small":"resize-full",fontIconFamily:WUXManagedFontIcons.Font3DS}}},tooltip:"resize-full"===o?l.restore:l.maximize}),e.maximize("resize-full"===o)},position:"far",category:"MaximizeCloseCategory"}}),r.addEventListener("updateMaximizeIcon",function(e){var t;e.stopPropagation();const o=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.maximizeIcon;let n=m.getNodeModelByID("wuxMaximizeButton");n&&n.updateOptions({grid:{semantics:{icon:{iconName:o?"resize-full":"resize-small",fontIconFamily:WUXManagedFontIcons.Font3DS}}},tooltip:o?l.maximize:l.restore})})),"function"==typeof e.close&&d.entries.push({id:"wuxCloseButton",dataElements:{typeRepresentation:"functionIcon",tooltip:l.close,icon:{iconName:"close",fontIconFamily:WUXManagedFontIcons.Font3DS},value:e.close,position:"far",category:"MaximizeCloseCategory"}});let c=o.prototype.createTreeDocument(d),m=new o({overflowManagement:"dropdown",direction:"horizontal",items:c,touchMode:s}).inject(r);if(m.getContent().classList.add("wux-domwithtitlebarandcontent-generatedtoolbar"),!1!==e.withSeparator){let e=document.createElement("div");e.classList.add("wux-domwithtitlebarandcontent-separator"),r.appendChild(e)}else r.setAttribute("noseparator","");function u(){if(!m.isReady())return;let e=r.offsetWidth,o=(null==t?void 0:t.offsetWidth)||0;o&&(o=Math.min(o,50));let n,i=m._toolbar.getPreferredSize(),a=r.style["grid-template-columns"];(n=e<o+i?"auto "+(s?42:32)+"px":"auto "+i+"px")!==a&&(r.style["grid-template-columns"]=n)}return e.content&&(r.appendChild(e.content),e.content.classList.add("wux-domwithtitlebarandcontent-content")),i.addResizeObserver(r,r,u),i.addEventOnElement(r,m,"onReady",u,{once:!0}),r}}});