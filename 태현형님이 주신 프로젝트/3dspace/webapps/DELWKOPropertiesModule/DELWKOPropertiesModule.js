define("DS/DELWKOPropertiesModule/DELWKOPropWorkOrderFacet",["DS/EditPropWidget/facets/Properties/EditPropController"],function(e){return e.extend({_onCompleteLoadModel:function(e){if(this._parent.apply(this,arguments),this.editPropertiesUI&&(this.editPropertiesUI.elements&&this.editPropertiesUI.elements.formSection&&this.editPropertiesUI.elements.formSection._accordionProperties&&(this.editPropertiesUI.elements.formSection._accordionProperties.asset_resource={name:"asset_resource",nameNLS:"KB9 - TEST",weight:0}),this.editPropertiesUI.addSection({name:"asset_resource",section:"asset_resource",list:[]}),this.editPropertiesUI.elements&&this.editPropertiesUI.elements.formSection&&this.editPropertiesUI.elements.formSection.getOrganizers)){var t=this.editPropertiesUI.elements.formSection.getOrganizers();if(t&&t.asset_resource&&t.asset_resource.elements&&t.asset_resource.elements.container){e&&e.results&&1===e.results.length&&e.results[0].physicalID&&e.results[0].physicalID,t.asset_resource.elements.container.appendText('<div><div><img class="editProp_iconAttribute" src="https://vdevpril2834am.ux.dsone.3ds.com:443/3DSpace/snresources/images/icons/small/I_PPRWorkOrder.png"></div></div>')}}}})}),define("DS/DELWKOPropertiesModule/DELWKOPropertiesModule",["UWA/Core","DS/EditPropWidget/EditPropWidget","DS/EditPropWidget/models/EditPropAttributeModel","DS/EditPropWidget/models/EditPropModel","DS/EditPropWidget/constants/EditPropConstants","DS/EditPropWidget/constants/ConstantsMapping"],function(e,t,r,i,o,n){"use strict";return{behaviors:["UXFactoryBehavior","SelectionBehavior","ModelBehavior","ResourceBehavior"],creator:function(r,n,s,a,c){var l,d,p,u,g,E,P,m,S,f,D;return E=function(i){var s,E,P=r.getElement(),m=n.getComponent("WUXDockAreaEnum"),S=n.getComponent("WUXFrameWindowsManager").getFrameWindow(r.getAppContext());e.is(S)&&(s=S.getImmersiveFrame(),e.is(s)&&((l=n.create("Panel",{position:{at:"top right"},side:m.RightDockArea,currentDockArea:m.RightDockArea,title:c.getNLSValue("Cmd.DisplayProperties.Title"),minWidth:450,height:300,content:P,resizableFlag:!0,visibleFlag:!1,collapsibleFlag:!0,floatableFlag:!0,verticallyStretchableFlag:!0})).close=function(){r.notify("toggleCmdCheckHeaderState",{cmdName:"DisplayProperties",cmdState:!1})},l.immersiveFrame=s,E=s.getDockingElement(l.currentDockArea),e.is(E)&&(E.collapseDockingZoneFlag=!1),d=new t({className:"DisplayPropertiesPanel",typeOfDisplay:o.ALL,selectionType:o.NO_SELECTION,displayType:o.STANDARD,readOnly:!1,extraNotif:!0,editMode:!1}),p=(p=a.get3DSpaceUrl()).endsWith("/")?p.substring(0,p.length-1):p,u=a.getTenant(),(g={}).selectedId=D(),g.platformUrl=p,g.platformTenant=u,g.getSecurityContext=function(){return a.getSecurityContext()},g.getSelectedRefId=function(){return D()},"WORKORDER"===a.getPPRType(g.selectedId)&&d.removeFacets([o.FACET_INSTANCE,o.FACET_EFFECTIVITY,o.FACET_SHARING,o.FACET_DOCUMENTS,o.FACET_RELATIONS,o.FACET_REVISIONS,o.FACET_CHANGE,o.FACET_SPECIFICATIONS]),d.inject(P)))},P=function(){return s.getSelections().reduce(function(e,t){return e.concat(t)},[])},D=function(){var e=P()[0];return a.getReferenceId(e)},m=function(){return P().map(function(e){return new i({tenant:a.getTenant(),service:"3DSpace",objectId:e})})},S=function(){var t;e.is(d)&&(t=m(),d.initDatas(t))},f=function(e){S()},{listenTo:function(){return{select:f}},onStart:function(t){E(),S(),e.is(l)&&l.show()},onStop:function(){e.is(l)&&(l.hide(),e.is(d)&&(d.destroyComponent(),d=null),l.destroy(),l=null)}}}}}),define("DS/DELWKOPropertiesModule/DELWKOPropMainController",["DS/EditPropWidget/constants/EditPropConstants","DS/EditPropWidget/constants/ConstantsMapping","DS/EditPropWidget/controllers/EditPropMainController","DS/EditPropWidget/UI/EditPropSkeleton"],function(e,t,r,i){return r.extend({_setup:function(r){var o=this,n=t.getMapping(r),s=t.getDefaultFacets();r.facets&&(s=r.facets,delete r.facets);var a=[],c=!1;s.forEach(function(t){var r=o._getFacet(n,t);r&&(!c&&r.facet&&r.facet.name===e.FACET_PROPERTIES&&(c=!0,r.alwaysVisible=!0),a.push(r))}),c||(n[e.FACET_PROPERTIES].visible=!1,a.push(n[e.FACET_PROPERTIES])),this.skeleton=new i(a,r)}})}),define("DS/DELWKOPropertiesModule/DELWKOPropEditWidget",["DS/DELWKOPropertiesModule/DELWKOPropMainController","DS/EditPropWidget/EditPropWidget"],function(e,t){return t.extend({_getController:function(t){return this.controller?this.controller:new e(t)}})});