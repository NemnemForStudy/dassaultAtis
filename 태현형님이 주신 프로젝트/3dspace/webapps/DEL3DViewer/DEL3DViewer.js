define("DS/DEL3DViewer/DEL3DViewerStatusBar",["UWA/Core","DS/UIKIT/Tooltip"],function(e,t){"use strict";return function(i,n){var o,r,a,s;return o=e.createElement("div",{class:"hidden"}).inject(i.elements.infoContainer),a=e.createElement("span",{class:"labelTextContainer"}).inject(o),s=e.createElement("span",{class:"timeTextContainer"}).inject(o),r=new t({target:o,position:"top right"}),{setIndexingTime:function(t,i){var l;e.is(t,"number")&&(l=new Date(1e3*t),i=e.is(i)?i:"%I:%M:%S %p",a.setText(n.getNLSValue("Info.LastIndex.Title")),s.setText(e.Date.strftime(l,i)),o.removeClassName("hidden"),r.setBody(n.getNLSValue("Info.LastIndex.Title")+""+e.Date.strftime(l,i)))},destroy:function(){r&&r.destroy(),o&&o.destroy(),s=null}}}}),define("DS/DEL3DViewer/BaseViewer",["UWA/Core","DS/ENOPAD3DViewer/PAD3DViewer"],function(e,t){"use strict";return function(i,n){var o,r=n.getOption("logger"),a=i||{},s=new e.Element("div",{id:"delmia_3d_viewer",class:"delmia-3d-viewer"});try{o=new t(a,n)}catch(e){r.error("DELPAD3DViewer initialization failed due to : %o",e)}return{getViewerElement:function(){return s},render:function(){return o.render().inject(s)},getEnoPadController:function(){return o.getController()},getEnoPadviewer:function(){return o},getEnoPadModelEvents:function(){return this.getEnoPadController().getModelEvents()},getRootBag:function(){var e,t;return o&&(t=o.getRootBagPath())&&(e=t.getLastElement()),e},getNode:function(e){return this.getEnoPadController().getNode(e)},getWebGLViewer:function(){return o.getViewer()},reframe:function(e){return o.reframe(e)},isRegistered:function(t){var i,n,o=!1;if(e.is(t,"array")&&t.length>=1)for(n=t.length,o=!0,i=0;i<n;i=0===i?1:i+2)if(!this.getEnoPadController().isRegistered(t[i])){o=!1;break}return o},getPathElement:function(t){var i;return r.debug("BaseViewer::getPathElement API is invoked with parameters : %o",t),e.is(t,"array")&&t.length>=1&&(i=o.unstreamPath(t)),i},getPath:function(e){var t=[];return e&&(t=o.streamPath(e)),t},getPathWithType:function(e){var t=[],i={};return e&&o.streamPathWithType(e,t,i),{paths:t,attributes:i}},search:function(e){o.search(e)},refresh:function(){o.refresh()},destroy:function(){[o,s].forEach(e=>{e&&e.destroy()}),r=a=o=s=null}}}}),define("DS/DEL3DViewer/ToolBar",["UWA/Core","DS/Tweakers/GeneratedToolbar","DS/DELWebViewerUtils/Utils"],function(e,t,i){"use strict";return function(n,o){var r,a,s,l=n.getOption("eventCollection").getViewerCtrlEventHnd(),u=function(t){var o=[],r=function(t){var n;return function(o){var r,a,s;n=o&&o.options?o.options:{},t&&t.icon&&t.icon.iconChange&&e.is(t.state,"boolean")&&function(t,n){var o,r=t&&t.options?t.options:{};n&&n.stateTrue&&n.stateFalse&&t&&e.is(r.state,"boolean")&&(o=r.state?n.stateTrue:n.stateFalse,t.setAttribute("semantics",{icon:n.isRichIcon?i.getAssetsUrl(o.moduleName,o.path):o}))}(o,t.icon),t&&e.is(t.state,"boolean")&&(r=n.id,a=n.state,(s=document.getElementById(r).firstChild)&&e.is(a,"boolean")&&(a?s.setAttribute("checked","checked"):s.removeAttribute("checked")))}};return e.is(t,"array")&&t.length>0&&e.clone(t).forEach(function(e){var t,a,s,l,u,c;e&&e.dataElements&&(a=(t=e.dataElements).icon?t.icon:"",t.domId=e.id?e.id:"",t.icon=function(e){var t;return e&&e.primaryIcon&&(t=e.isRichIcon?i.getAssetsUrl(e.primaryIcon.moduleName,e.primaryIcon.path):e.primaryIcon),t}(a),t.label=((u=t.label)&&u.NLS&&(c=n.getNLSValue(u.NLS)),c),t.tooltip=((s=t.tooltip)&&s.shortHelp&&s.shortHelp.NLS&&(l=n.getNLSValue(s.shortHelp.NLS)),l),e.onNodeUpdate=r({icon:a,state:t.state}),o.push(e))}),o};return l.subscribe(l.events.onCommandClose,function(e){e&&e.commandId&&a.getNodeModelByID(e.commandId)&&a.updateNodeModel(e.commandId,e)}),{create:function(e){var i;e&&(s=e,i=u(e),r=t.prototype.createTreeDocument({entries:i}),(a=new t({overflowManagement:"dropdown",direction:"horizontal",items:r,domId:"DEL3DViewerToolbar"})).inject(o))},show:function(){a&&(a.visibleFlag=!0)},hide:function(){a&&(a.visibleFlag=!1)},getNodeModel:function(e){let t;return a&&e&&(t=a.getNodeModelByID(e.commandId)),t},updateNodeModel:function(e){e&&e.commandId&&a.updateNodeModel(e.commandId,e)},changeDirection:function(e){a&&e&&(a.direction=e)},reset:function(){s.forEach(function(e){a.updateNodeModel(e.id,{state:e.dataElements.state})})}}}}),define("DS/DEL3DViewer/DELOrientationViewer",["UWA/Core","DS/WebappsUtils/WebappsUtils","DS/Visualization/ThreeJS_DS","DS/SceneGraphNodes/FixedSizeNode3D","DS/Visualization/Node3D","DS/Mesh/MeshUtils","DS/DELWebViewerUtils/DELWebViewerSettingsMgt"],function(e,t,i,n,o,r,a){"use strict";return function(s,l){var u,c,d,g,h,p,f,v=l.getOption("viewerOptions").orientationViewer.options,m=s.getWebGLViewer(),w=m.internalSceneGraph,E=l.getOption("eventCollection").getViewerCtrlEventHnd(),P=l.getOption("mappingKeys"),b=a.getDELViewerSetting("orientationViewer"),D=P.ORIENTATIONVIEWER.NAME;return v=Object.assign({},b,v),p=function(e,t,i){var n,o,r=Math.max(100*i/t-1,-.85),a=2*(e-60*i)/e-1,s=Math.max(200*i/t-1,-.85);switch(v.position){case"top-left":n=-a,o=-r;break;case"top-right":n=a,o=-r;break;case"bottom-left":n=-a,o=s;break;case"bottom-right":n=a,o=s;break;default:n=a,o=-r}return{x:n,y:o}},f=function(e,t){var n=m.currentViewpoint.robotCameraOrtho,o=new i.Vector3(e,t,0);return(new i.Projector).unprojectVector(o,n),(new i.Matrix4).setPosition(o)},h=function(){var e,t;w.onViewpointChange(),e=p(m.canvas.width,m.canvas.height,m.devicePixelRatio),t=f(e.x,e.y),u.setMatrix(t)},u=new n({name:D}),c=new o("ModelNode"),u.setVisibility(v.defaultDisplay),u.setPickable(r.NODRAWHL),u.setCameraName("robotCameraOrtho"),u.setRenderPasses(["robotOrtho"]),u.addChild(c),w.robotRoot.addChild(u),d=E.subscribe(E.events.onViewPointMove,function(){h()}),{setNodeVisibility:function(e){u.setVisibility(e),u.setRatio(g),m.render()},loadModel:function(){var n=t.getWebappsAssetUrl(v.model.module,v.model.assetsPath);if(!e.is(n,"string"))throw"Asset URL not found for model"+v.model;s.getEnoPadviewer().getFrameWindow().onViewerModelLoaded(function(){var e=c.getBoundingSphere().center;c.setMatrix((new i.Matrix4).setPosition(new i.Vector3(-e.x,-e.y,-e.z))),g=64/c.getBoundingSphere().radius*v.ratio,u.setRatio(g)}),s.getEnoPadviewer().getFrameWindow().getModelLoader().loadModel(n,c)},destroy:function(){d&&E.unSubscribe(d),w&&w.robotRoot&&w.robotRoot.removeChild(u),v=m=w=u=c=E=P=D=d=null}}}}),define("DS/DEL3DViewer/NodeUtil",["UWA/Core","DS/ENOPAD3DViewer/utils/PAD3DViewerModelServices"],function(e,t){"use strict";let i=Object.assign({},t);return i.getPathsFromNode=function(e){var t,i,n,o=this,r=[],a=[],s=function(e){return(e=e||[]).filter(function(e){return!(!e||!o.getNodeID(e))&&(e.getNotAllowedInPathElement?!e.getNotAllowedInPathElement():!e.notAllowedInPathElement)})};if(e)for(r.push([e]);r.length>0;)(n=(t=r.shift())[0]?t[0].getParents():null)&&(0===n.length&&a.push(s(t).map(function(e){return o.getNodeID(e)})),n.forEach(function(e){(i=t.slice()).unshift(e),r.push(i)}));return a},i.getLeafID=function(e){var t,i,n=null;if(e){for(t=e;t&&!this.isPLMNode(t.getLastElement(!0));)t=t.getParentPath();i=t.getLastElement(!0),n=this.getNodeID(i)}return n},i}),define("DS/DEL3DViewer/commands/DELViewerRightSidePanel",["DS/ENOPAD3DViewer/commands/PAD3DViewerRightSidePanel","DS/DEL3DViewer/NodeUtil"],function(e,t){"use strict";const i="DELFmiProcessImplementCnx",n="DELFmiProcessOutputPrereqMaterializationCnx",o="VPMReference";return e.extend({getParentNodeType:function(e){return t.getNodeType(e.pathElement.getParentPath().getLastElement())},getRelationID:function(e){var r,a,s,l=e.pathElement;if(e.type!==o||this.getParentNodeType(e)!==i&&this.getParentNodeType(e)!==n){for(;l&&!t.isPLMNode(l.getLastElement(!0));)l=l.getParentPath();l&&(a=l.getLastElement(!0),t.isInstance(a)?r=t.getNodeID(a):(s=l.getParentPath().getLastElement(!0),r=t.getNodeID(s)))}else r=t.getNodeID(e.pathElement.getLastElement());return r}})}),define("DS/DEL3DViewer/ColoringBehavior",["UWA/Core","DS/Visualization/ThreeJS_DS","DS/SceneGraphOverrides/SceneGraphOverrideSet","DS/DEL3DViewer/NodeUtil","DS/Visualization/IdPath"],function(e,t,i,n,o){"use strict";return function(r,a){var s,l,u,c,d,g,h,p,f,v,m=a.getOption("logger"),w=r.getWebGLViewer(),E={},P=a.getOption("mappingKeys");return m.info("ColoringBehavior initialized"),l=function(e){var t=w.getSceneGraphOverrideSetManager();s=r.getEnoPadController().getRootBag(),E[e]=new i(s,r.getEnoPadController().getRootBagId(),!0),E[e].name=e,t.pushSceneGraphOverrideSet(E[e])},d=function(e){var i,n,o=[];return e&&(12===(i=e.split(",")).length?(n=[parseFloat(i[0]),parseFloat(i[3]),parseFloat(i[6]),parseFloat(i[1]),parseFloat(i[4]),parseFloat(i[7]),parseFloat(i[2]),parseFloat(i[5]),parseFloat(i[8])],o=(new t.Matrix4).setRotation(n).setPosition(new t.Vector3(parseFloat(i[9]),parseFloat(i[10]),parseFloat(i[11])))):m.info("Postion elements length is not equal to 12")),o},v=function(e){var t;return e&&(t=e.path&&e.path.length>0?Array.isArray(e.path[0])?e.path:[e.path]:e.id?n.getPathsFromNode(r.getNode({id:e.id})):null),t},f=function(e){var i,n=new t.Vector3(0,0,0),o=new t.Vector3(0,0,0),a=new t.Vector3(0,0,0),s=0,l=[];return e&&(l=v(e))&&l.length>0&&(l.forEach(function(e,t){var i,a,s,l,u=r.getPathElement(e);u&&(i=u.getLastElement(!0).getBoundingBox().clone(),a=u.getWorldMatrix(),i&&(a&&i.applyMatrix4(a),s=i.min,l=i.max,0===t?(n.x=Math.min(s.x,l.x),n.y=Math.min(s.y,l.y),n.z=Math.min(s.z,l.z),o.x=Math.max(s.x,l.x),o.y=Math.max(s.y,l.y),o.z=Math.max(s.z,l.z)):(n.x=Math.min(Math.min(s.x,l.x),n.x),n.y=Math.min(Math.min(s.y,l.y),n.y),n.z=Math.min(Math.min(s.z,l.z),n.z),o.x=Math.max(Math.max(s.x,l.x),o.x),o.y=Math.max(Math.max(s.y,l.y),o.y),o.z=Math.max(Math.max(s.z,l.z),o.z))))}),s=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)+Math.pow(o.z-n.z,2))/2,a.add(n).add(o),a.divideScalar(2),i=new t.Sphere(a,s)),i},g=function(t,i){var n,a=t.path,s=function(t){var i,n=r.getEnoPadController().getRootBagId()||"rootBag";return e.is(t,"array")&&((i=t.slice())[0]!==n&&i.unshift(n),i=new o(i)),i};return e.is(a,"array")&&(E[i]||l(i),(n=E[i].getUniqueOverrideFromIdPath(s(a)))||(n=E[i].createIdPathOverride({idPathes:[s(a)]}))),n},u=function(i,n){var o,r=i.color;if(e.is(n,"object")){if(!r)return void(null===r&&n.setColor(r,!0));(o=new t.Color).setRGB(parseInt(r.R)/255,parseInt(r.G)/255,parseInt(r.B)/255),n.setColor("#"+o.getHexString(),!0)}},c=function(t,i){var n,o=t.position;if(e.is(i,"object")&&t.path){if(!o)return void(null===o&&i.setPosition(o));n=d(t.position),e.is(n,"object")&&i.setPosition(n)}},h=function(t,i){var n,o;e.is(t,"object")&&t.path&&(o=p(t.path),n=g({path:o},i),u({color:t.color},n),null===t.opacity?n.resetOpacity():e.is(t.opacity,"number")&&n.setOpacity(parseInt(t.opacity)/255,!0),null===t.visibility?n.setVisibility(null):e.is(t.visibility,"boolean")&&n.setVisibility(t.visibility),null===t.visibilityFree?n.setVisibilityFree(null):e.is(t.visibilityFree,"boolean")&&n.setVisibilityFree(t.visibilityFree),c({path:o,position:t.position},n))},p=function(t){return e.is(t,"array")&&t.length>1&&t.length%2==1?t.slice(0,-1):t},{setGraphicProperties:function(t,i){var o=[];return m.info("ColoringBehavior::setGraphicProperties API invoked with parameters : %o",t),new e.Promise(function(s,l){new e.Promise(function(s,l){try{t&&e.is(t.graphicProperties,"array")&&t.graphicProperties.length>0&&i?(t.graphicProperties.forEach(function(t){var a;e.is(t.path,"array")&&t.path.length>0?h(t,i):t.id&&(a=n.getPathsFromNode(r.getNode({id:t.id})))&&a.length>0?a.forEach(function(n){h(e.merge({path:n},t),i)}):o.push(t)}),o.length>0?l(a.getNLSValue("Error.PathFormatInvalid.Message")):s()):l(a.getNLSValue("Error.InvalidInput.Message"))}catch(e){l(e)}}).then(s).fail(l)})},removeGraphicProperties:function(t,i){var o,s=[],l=function(){var l=function(t){var n;e.is(t.properties,"array")&&t.properties.length>0&&(n=p(t.path),o=g({path:n},i),t.properties.forEach(function(e){switch(e){case P.GRAPHICPROPERTIES.COLOR:o.setColor(null);break;case P.GRAPHICPROPERTIES.OPACITY:o.resetOpacity();break;case P.GRAPHICPROPERTIES.POSITION:o.setPosition(null);break;case P.GRAPHICPROPERTIES.VISIBILITY:o.setVisibility(null);break;case P.GRAPHICPROPERTIES.VISIBILITYFREE:o.setVisibilityFree(null);break;case P.GRAPHICPROPERTIES.ALL:E[i].deleteOverride(o)}}))};return new e.Promise(function(o,u){try{t&&e.is(t.graphicProperties,"array")&&t.graphicProperties.length>0&&i?(t.graphicProperties.forEach(function(t){var i;e.is(t.path,"array")&&t.path.length>0?l(t):t.id&&(i=n.getPathsFromNode(r.getNode({id:t.id})))&&i.length>0?i.forEach(function(i){l(e.merge({path:i},t))}):s.push(t)}),s.length>0?u("Invalid Paths"):o()):u(a.getNLSValue("Error.InvalidInput.Message"))}catch(e){u(e)}})};return m.info("ColoringBehavior::removeGraphic API invoked with parameters : %o",t),new e.Promise(function(t,n){new e.Promise(function(t,n){e.is(E[i])?t():n(a.getNLSValue("Error.SceneGraphOverrideSetNotFound.Message"))}).then(l).then(t).fail(n)})},removeSceneGraphOverrideSet:function(t){var i=w.getSceneGraphOverrideSetManager();e.is(E[t])&&(i.removeSceneGraphOverrideSet(E[t]),E[t]=null)},getGraphicPropertiesEnum:function(){return P.GRAPHICPROPERTIES},setReframe:function(t){var i;return new e.Promise(function(e,n){if(m.debug("ColoringBehavior::setReframe method invoked with parameters : ",t),t&&!(i=t.BS?t.BS:f(t)))return m.error("ColoringBehavior::reframe method failed due to invalid input "),void n(a.getNLSValue("Error.InvalidInput.Message"));r.reframe(i),e()})},setViewPoint:function(t){var i={};return m.debug("ColoringBehavior::setViewPoint event received with parameters :",t),new e.Promise(function(e,n){t?(t.eyePosition&&(i.eyePosition=t.eyePosition),t.orientation&&(i.orientation=t.orientation),t.targetDistance&&(i.distanceToTarget=t.targetDistance),i.duration=t.duration?t.duration:100,r.getEnoPadviewer().getViewpoint().moveTo(i),e()):(m.error("ColoringBehavior::setViewPoint method failed due to invalid input "),n(a.getNLSValue("Error.InvalidInput.Message")))})},getViewPoint:function(){return m.debug("ColoringBehavior::getViewPoint event received with parameters :"),new e.Promise(function(e,t){var i={},n=r.getEnoPadviewer().getViewpoint();n?(i.eyePosition=n.getEyePosition(),i.orientation=n.control.orientation,i.targetDistance=n.getTargetDistance(),e({viewpoint:i})):(m.error("ColoringBehavior::getViewPoint method failed due to camera view point is not found"),t(a.getNLSValue("Error.ViewPointNotFound.Message")))})},getBoundingBox:function(t){return m.debug("ColoringBehavior::getBoundingBox event received with parameters :",t),new e.Promise(function(e,i){var n,o,s,l,u=v(t),c=[];if(u&&u.length>0)for(n of u){if(!(o=r.getPathElement(n))){m.error("ColoringBehavior::getBoundingBox method failed due to - unable to get pathElement from path",n),l="Error.InvalidInput.Message";break}if(!(s=o.getLastElement(!0).getBoundingBox())){m.error("ColoringBehavior::getBoundingBox method failed due to - unable to get bounding box from pathElement",o),l="Error.InvalidInput.Message";break}c.push({path:n,boundingBox:s.clone()})}else m.error("ColoringBehavior::getBoundingBox method failed due to invalid input "),l="Error.InvalidInput.Message";l?i(a.getNLSValue(l)):e(c)})},destroy:function(){for(let e in E)E.hasOwnProperty(e)&&this.removeSceneGraphOverrideSet(e);E={},s=m=w=s=l=u=c=d=g=h=null,p=f=v=P=null}}}}),define("DS/DEL3DViewer/ToggleBehavior",["UWA/Core","DS/Selection/CSOManager","DS/Selection/HSOManager","DS/Selection/PSOManager","DS/DELWebViewerPerformaceLogger/PerformaceLogger","DS/DEL3DViewer/NodeUtil"],function(e,t,i,n,o,r){"use strict";return function(o,a){var s,l="hide",u="show",c="select",d="unSelect",g="highlight",h="unhighlight",p="preHighlight",f="unPreHighlight",v=a.getOption("mappingKeys"),m=a.getOption("logger"),w=a.getOption("eventCollection").getViewerCtrlEventHnd(),E=function(e){var t;return e&&(t=e.path&&e.path.length>0?Array.isArray(e.path[0])?e.path:[e.path]:e.id?r.getPathsFromNode(o.getNode({id:e.id})):null),t},P=function(t){var i=[];return e.is(t,"array")&&t.forEach(function(e){var t=o.getPathElement(e);t?i.push({pathElement:t}):m.debug("Unable to get the pathElement for the path ",e)}),i},b=function(r,a){var s;if(e.is(r,"array")&&r.length>0)switch(s=function(t){var i=[];return t.forEach(function(t){var n=o.getPathWithType(t.pathElement?t.pathElement:t);n&&e.is(n.paths,"array")&&n.paths.length>0&&i.push(n)}),i}(r),a){case l:t.options.fromAPI||w.publish(w.events.onHideNode,s);break;case u:t.options.fromAPI||w.publish(w.events.onShowNode,s);break;case c:t.options.fromAPI||w.publish(w.events.onSelectNode,s);break;case d:t.options.fromAPI||w.publish(w.events.onUnSelectNode,s);break;case g:i.options.fromAPI||w.publish(w.events.onHighlightNode,s);break;case h:i.options.fromAPI||w.publish(w.events.onUnHighlightNode,s);break;case p:n.options.fromAPI||w.publish(w.events.onPreHighlightNode,s);break;case f:n.options.fromAPI||w.publish(w.events.onUnPreHighlightNode,s)}},D=[],V=[],S=[],I=[],y=function(t,i){return new e.Promise(function(n,o){var r,s=E(i),l=!(!i||!e.is(i.clear,"boolean"))&&i.clear,u=i&&e.is(i.highlight,"boolean")?i.highlight:null;null!==u?(t.options.fromAPI=!0,l&&u&&t.empty(),e.is(s,"array")&&s.length>0&&(r=P(s),u?t.add(r):t.remove(r)),delete t.options.fromAPI,n()):o(a.getNLSValue("Error.InvalidInput.Message"))})};return m.info("ToggleBehavior initialized"),s=o.getEnoPadviewer().subscribe({event:v.PADEVENTS.ONACTIONBARREADY},function(){var e=o.getEnoPadviewer().getHideShowController();D.push(e.getModelEvents().subscribe({event:v.PADEVENTS.ONHIDE},function(e){e&&b(e.paths,l)})),D.push(e.getModelEvents().subscribe({event:v.PADEVENTS.ONSHOW},function(e){e&&b(e.paths,u)})),S.push(t.onPostAdd(function(e){b(e,c)})),S.push(t.onPostRemove(function(e){b(e,d)})),V.push(i.onPostAdd(function(e){b(e,g)})),V.push(i.onPostRemove(function(e){b(e,h)})),I.push(n.onPostAdd(function(e){b(e,p)})),I.push(n.onPostRemove(function(e){b(e,f)}))}),{removeRoots:function(t){var i,n,s=[];return t=t||{},m.info("ToggleBehavior::removeRoots API invoked with parameters : %o",t),new e.Promise(function(l,u){if(e.is(t.pids,"array")){if(0===(s=t.pids.slice()).length&&(i=o.getRootBag(),e.is(i)&&(i.getChildren().forEach(function(e){s.push(r.getNodeID(e))}),0===s.length)))return void l();n=o.getEnoPadController().getModelEvents().subscribe({event:"onEndRootRemoved"},function(t){e.equals(t.ids,s)&&(w.publish(w.events.onRemoveRootsComplete,t),o.getEnoPadController().getModelEvents().unsubscribe(n),l())}),o.getEnoPadviewer().removeRoots({pids:s})}else m.error("ToggleBehavior::removeRoots API input is invalid"),u(a.getNLSValue("Error.InvalidInput.Message"))})},selectNode:function(n){return new e.Promise(function(o,r){var s,l=E(n),u=!(!n||!e.is(n.clear,"boolean"))&&n.clear,c=n&&e.is(n.select,"boolean")?n.select:null;null!==c?(t.options.fromAPI=!0,u&&c&&(t.empty(),i.empty()),e.is(l,"array")&&l.length>0&&(s=P(l),c?t.add(s):t.remove(s),c?i.add(s):i.remove(s)),delete t.options.fromAPI,o()):r(a.getNLSValue("Error.InvalidInput.Message"))})},highlightNode:function(e){return y(i,e)},preHighlightNode:function(e){return y(n,e)},destroy:function(){s&&(o.getEnoPadviewer().unsubscribe(s),s=null),D.forEach(e=>{o.getEnoPadviewer().getHideShowController().unsubscribe(e)}),D=[],V.forEach(e=>{i.unsubscribe(e)}),I.forEach(e=>{n.unsubscribe(e)}),S.forEach(e=>{t.unsubscribe(e)}),I=[],V=[],S=[],v=m=w=E=E=b=null}}}}),define("DS/DEL3DViewer/Viewer",["UWA/Core","DS/DEL3DViewer/BaseViewer","DS/DEL3DViewer/ToggleBehavior","DS/DEL3DViewer/ColoringBehavior","DS/DEL3DViewer/ToolBar","DS/DELWebUiComponent/ControlFactory","DS/DELWebViewerUtils/DELWebViewerSettingsMgt","css!DS/DEL3DViewer/assets/css/DEL3DViewer.css"],function(e,t,i,n,o,r,a){"use strict";return function(s,l){var u,c,d,g,h,p,f,v,m,w,E,P,b=s.getOption("logger"),D=s.getOption("loggerSeverity"),V=s.getOption("showLevelSelectorLabel"),S=s.getOption("eventCollection").getViewerCtrlEventHnd(),I=s.getOption("mappingKeys"),y=a.getDELViewerSetting("displayLastIndexedTimeStamp"),N=a.getSetting("padViewerSettings");c=-1!==["debug"].indexOf(D.toLowerCase())?N.actionBarWkb.debugViewer:2===s.getOption("viewerType")?N.actionBarWkb.workInstructionViewer:N.actionBarWkb.standard,N.enopad3dviewer.layout_options.frmWindow_opts.workbench=c.file,N.enopad3dviewer.layout_options.frmWindow_opts.workbenchModule=c.module,m=s.getOption("viewerOptions"),e.is(m)&&e.extend(N.enopad3dviewer,m.delviewer,!0),a.setApp(N,"enopad3dviewer"),g=a.getSetting("enopad3dviewer_selectiveLoading"),w=a.getSetting("propertiesFacet"),d=Object.assign({},{widget:window.widget,windowOptions:N.enopad3dviewer.layout_options.frmWindow_opts,binaryPrimitives:!0,allowAuthoring:!1,authorizeSet3DStructure:!0,selectiveLoading:e.is(g,"boolean")?g:"true"===g,enableSidePanel:!0,propertiesFacet:w,visuProgressiveTileModel:!0},N.enopad3dviewer.options);try{u=new t(d,s),b.debug("BaseViewer initialized with options : %o",d)}catch(e){throw b.error("BaseViewer Initialization failed due to : %o",e),new Error("BaseViewer Initialization failed due to : %o",e)}return s.getOption("quickToolBar")&&(f=new o(s,u.getViewerElement())),m&&m.orientationViewer&&m.orientationViewer.enable&&require(["DS/DEL3DViewer/DELOrientationViewer"],function(e){u&&(p=new e(u,s))}),v=function(t){return new e.Promise(function(i,n){e.is(t,"boolean")?e.is(p)?(p.setNodeVisibility(t),i()):n(s.getNLSValue("Error.OVNotInitialized.Message")):n(s.getNLSValue("Error.InvalidInput.Message"))})},P=u.getWebGLViewer().currentViewpoint.onMove(function(){S.publish(S.events.onViewPointMove,this.orientation)}),h=u.getEnoPadviewer().subscribe({event:I.PADEVENTS.ONACTIONBARREADY},function(t){if(u.getEnoPadviewer().unsubscribe(h),e.is(p))try{p.loadModel()}catch(e){b.error(e)}y&&y.value&&require(["DS/DEL3DViewer/DEL3DViewerStatusBar"],function(e){u&&(E=new e(u.getEnoPadviewer().getStatusBar(),s))}),u.getEnoPadviewer().getLevelSelectorCommand&&e.is(V,"boolean")&&V&&u.getEnoPadviewer().getLevelSelectorCommand(function(e){e&&e.displayLabels(!0)}),u.render(),l&&l(t)}),{baseViewer:u,displayOrientationViewer:v,toolbar:f,toggleBehavior:new i(u,s),coloringBehavior:new n(u,s),controlFactory:new r(u),setIndexingTime:function(t){e.is(E)&&E.setIndexingTime(t,y.format)},destroy:function(){h&&u&&u.getEnoPadviewer().unsubscribe(h),P&&u&&u.getWebGLViewer().currentViewpoint.unsubscribe(P),this.coloringBehavior.destroy(),this.toggleBehavior.destroy(),this.controlFactory.destroy(),[p,E,u].forEach(e=>{e&&e.destroy()}),p=E=u=b=d=S=I=w=null,m=g=null,a.dispose()}}}}),define("DS/DEL3DViewer/ViewerInterface",["UWA/Core","DS/DEL3DViewer/Viewer"],function(e,t){"use strict";return function(e,i,n){var o,r=e.getOption("logger"),a=e.getOption("mappingKeys");try{o=new t(e,i,n)}catch(e){r.error("Viewer initialization failed due to : %o",e)}return{getViewerElement:function(){return o.baseViewer.getViewerElement()},addRoots:function(e,t,i){return o.baseViewer.getEnoPadviewer().addRoots(e,t,i)},selectNode:function(e){return o.toggleBehavior.selectNode(e)},highlightNode:function(e){return o.toggleBehavior.highlightNode(e)},preHighlightNode:function(e){return o.toggleBehavior.preHighlightNode(e)},removeRoots:function(e){return o.toggleBehavior.removeRoots(e)},setGraphicProperties:function(e,t){return o.coloringBehavior.setGraphicProperties(e,t)},removeGraphicProperties:function(e,t){return o.coloringBehavior.removeGraphicProperties(e,t)},resetGraphicProperties:function(){Object.values(a.SCENEGRAPHKEYS).forEach(function(e){o.coloringBehavior.removeSceneGraphOverrideSet(e)})},removeSceneGraphOverrideSet:function(e){o.coloringBehavior.removeSceneGraphOverrideSet(e)},render:function(){o.baseViewer.getWebGLViewer().render()},getGraphicPropertiesEnum:function(){return o.coloringBehavior.getGraphicPropertiesEnum()},getContext:function(){return o.baseViewer.getEnoPadviewer()},getFrameWindow:function(){return o.baseViewer.getEnoPadviewer().getFrameWindow()},resetCameraOrientation:function(){o.baseViewer.getEnoPadviewer().getFrameWindow().getViewpoint().resetCameraOrientation()},isRegistered:function(e){return o.baseViewer.isRegistered(e)},getComponentPromise:function(e,t){return o.controlFactory.getComponentPromise(e,t)},setReframe:function(e){return o.coloringBehavior.setReframe(e)},setViewPoint:function(e){return o.coloringBehavior.setViewPoint(e)},getViewPoint:function(){return o.coloringBehavior.getViewPoint()},getBoundingBox:function(e){return o.coloringBehavior.getBoundingBox(e)},displayOrientationViewer:function(e){return o.displayOrientationViewer(e)},subscribe:function(e,t){return o.baseViewer.getEnoPadModelEvents().subscribe({event:e},t)},unSubscribe:function(e){o.baseViewer.getEnoPadModelEvents().unsubscribe(e)},getMode:function(){var t=e.getOption(a.OPTIONS.DEFAULTVIEWERMODE)?e.getOption(a.OPTIONS.DEFAULTVIEWERMODE):a.VIWERDEFAULTMODE;return e.getOption(a.OPTIONS.VIEWERMODE)?e.getOption(a.OPTIONS.VIEWERMODE):t},setIndexingTime:function(e){o.setIndexingTime(e)},search:function(e){o.baseViewer.search(e)},getToolBar:function(){return o.toolbar},refresh:function(){this.resetGraphicProperties(),o.baseViewer.refresh()},destroy:function(){o&&o.destroy(),o=r=a=null}}}});