define("DS/DELWKOTreeListAuthoringModule/DELWKOUpperViewsModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ImplementBehavior","CapableResourceLinkBehaviour","ViewBehavior","LoadObjectBehavior","LinkBehavior","RootsBehavior","MfgProcessBehavior","MfgProcessCrossHighlightBehavior"],creator:function(t,o,i,r,a,c,d,s,u,h,f,l,g,p,v,B,R,y,T,A,I,C,E,b){var S,P,O,D,L,M,w,N,m,k,U,W,x,j,V=new(0,n.creator)(t,o,i,r,a,d,s,u,h,f,l,g,p,v,B,T),F=[],K=[];return S=function(n){var t,o=!1;return e.is(n)&&(t=a.getPPRType(n),o=F.indexOf(t)>-1),o},P=function(n){var t=!1;return e.is(n)&&e.is(n.get)&&(t=K.indexOf(n.get("type"))>-1),t},O=function(){var e=[];i.getSelectedNodes().forEach(function(n){e.push({nodeId:n.getInstancePID()||n.getReferencePID(),isSelected:n.isSelected(),absPath:n.getAbsolutePath()})}),e.length>0&&t.notify("reComputeCrossHighlight",[e])},D=function(e,n,t){S(e)&&V.onAddReference(e,n,t)},L=function(n){var t=!1,o=[];n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(n){!function(n,o){var r,a;P(n)&&(r=n.get("from"),a=n.get("to"),e.is(o,"array")&&o.length>0&&o.indexOf(a)>-1||(o.push(a),l.isDocConnection(n)?i.updateDocAttributes(r):i.isNodeAdded(a)&&(i.updateAttributes(n),t=!0)))}(n,o)}),t&&O()})},M=function(n){var t=[],o=function(n,t){var o,r;if(P(n)&&(o=n.get("to"),!(e.is(t,"array")&&t.length>0&&t.indexOf(o)>-1||(t.push(o),i.isNodeAdded(o))))){if(r=a.getReference(o),e.is(r)){var c={loadChildren:!1};i.addNode(r,c)}O()}};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){o(e,t)})}):o(n,t)},m=function(n){var t=function(e){(S(e)||P(e))&&V.onChangeIRPC(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},w=function(n){var t=function(e){S(e)&&V.onRemoveRefOrInst(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},N=function(n){var o,r=!1;n=e.is(n,"array")?n:[n],o=function(n){var o,a;e.is(n)?P(n)&&(o=n.get("from"),a=n.get("to"),l.isDocConnection(n)?i.updateDocAttributes(o):i.isNodeAdded(a)&&(i.updateAttributes(n),r=!0)):t.debug("ERROR: No model defined")},i.withTransactionUpdate(function(){n.forEach(function(e){o(e)}),r&&O()})},k=function(e){var n=a.getReferenceModel(e.newInstPIDArray[0]);S(n)&&V.onReparentInstances(e)},U=function(e){var n=a.getReferenceModel(e);S(n)&&V.onReparentBegin(e)},W=function(e){var n=a.getReferenceModel(e);S(n)&&V.onReparentEnd(e)},x=function(n){var t,o;if(e.is(n)&&(e.is(n.selectedNodeIds)&&e.is(n.selectedNodeIds.length>0)&&n.selectedNodeIds.forEach(function(e){i.unSelectNode(e)}),e.is(n.changed)))if(e.is(n.changed.childOccurencePath)){if(t=i.getNodeModel(n.changed.childOccurencePath),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)if(t[o].getAbsolutePath().join()===n.changed.childOccurencePath.join()){t[o].select();break}}else if(t=i.getNodeModel(n.changed.nodeId),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)t[o].isRoot(!0)&&t[o].select()},j=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=a.getReferenceModel(e[0]);S(t)&&n.push(e)}),n.length>0&&V.onAddOccurrence(n)},{listenTo:function(){return e.extend(V.listenTo(),{addReference:D,addConnection:L,addLinkedObject:M,removeReference:w,removeInstance:w,removeConnection:N,changeReference:m,changeInstance:m,changeConnection:m,reparentInstances:k,reparentBegin:U,reparentEnd:W,EGraphNodeSelect:x,addOccurrece:j})},onStart:function(e){if(V.onStart(e),!e.pprTypes||!e.linkTypes)throw new Error(t.getId()+": DELWKOUpperViewsModule initialization failed");F=e.pprTypes,K=e.linkTypes},onStop:function(){V.onStop()}}}}}),define("DS/DELWKOTreeListAuthoringModule/DELWKORoutingsModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ImplementBehavior","CapableResourceLinkBehaviour","DuplicateAdvBehavior","ViewBehavior","ExpandFilterBehavior","SetSequencingModeBehavior","LoadObjectBehavior","RootsBehavior","LinkBehavior","ProductFlowLinkBehavior","CfgColumnsBehavior","MfgProcessBehavior","DELWKOMfgProcessCrossHighlightBehavior"],creator:function(t,o,i,r,a,c,d,s,u,h,f,l,g,p,v,B,R,y,T,A,I,C,E,b,S,P,O,D){var L,M,w,N,m,k,U,W,x,j,V,F,K,H,X,z,G,Z=new(0,n.creator)(t,o,i,r,a,d,s,u,h,f,l,g,p,v,B,A),q=[],J=[],Q=[];return w=function(n){var t,o=!1;return e.is(n)&&(t=a.getPPRType(n),o=q.indexOf(t)>-1),o},N=function(n){var t=!1;return e.is(n)&&e.is(n.get)&&(t=J.indexOf(n.get("type"))>-1),t},m=function(e){return Q.indexOf(e)>-1},k=function(){var e=[];i.getSelectedNodes().forEach(function(n){e.push({nodeId:n.getInstancePID()||n.getReferencePID(),isSelected:n.isSelected(),absPath:n.getAbsolutePath()})}),e.length>0&&t.notify("reComputeCrossHighlight",[e])},U=function(e,n,t){w(e)&&Z.onAddReference(e,n,t)},F=function(n,o){var r;e.is(n)&&i.isNodeAdded(n)&&(r=a.getImpactedConnections([n]),t.notify("addConnection",[r,o]))},W=function(n,o){var r=!1,a=[];o=o||{},n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(n){!function(n,a){var c,d,s,u,h=!e.is(o.loadRelatedobjectsToView)||o.loadRelatedobjectsToView;N(n)&&("SecondaryCandidateResourceLink"===n.get("type")&&(n=b.cloneSecondaryCapableRscLinkWithFromAttr(n)),c=n.get("from"),d=n.get("to"),s=n.get("type"),u=c,e.is(a,"array")&&a.length>0&&a.indexOf(d)>-1||(a.push(d),l.isDocConnection(n)?i.updateDocAttributes(c):i.isNodeAdded(c)&&(e.is(L)&&L.linkType===s?i.updateBadge(u,L.badgeIcon):e.is(M)&&M.linkType===s&&i.updateBadge(u,M.badgeIcon),i.updateAttributes(n),r=!0,m(s)&&h&&t.notify("addLinkedObject",[n]))))}(n,a)}),r&&k()})},j=function(n){var o,r=!1,a=[];n=e.is(n,"array")?n:[n],o=function(n){var o,c;e.is(n)?N(n)&&("SecondaryCandidateResourceLink"===n.get("type")&&(n=b.cloneSecondaryCapableRscLinkWithFromAttr(n)),c=n.get("from"),l.isDocConnection(n)?i.updateDocAttributes(c):(o=n.get("type"),e.is(o,"string")?i.isNodeAdded(c)&&((e.is(L)&&L.linkType===o||e.is(M)&&M.linkType===o)&&a.push(c),i.updateAttributes(n),r=!0):t.debug("Could not get connection type"))):t.debug("ERROR: No model defined")},i.withTransactionUpdate(function(){n.forEach(function(e){o(e)}),r&&k(),a.length>0&&i.updateBadge(a,null)})},V=function(n){var t=function(e){(w(e)||N(e))&&Z.onChangeIRPC(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},x=function(n){var t=function(e){w(e)&&Z.onRemoveRefOrInst(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},K=function(e){var n=a.getReferenceModel(e.newInstPIDArray[0]);w(n)&&Z.onReparentInstances(e)},H=function(e){var n=a.getReferenceModel(e);w(n)&&Z.onReparentBegin(e)},X=function(e){var n=a.getReferenceModel(e);w(n)&&Z.onReparentEnd(e)},z=function(n){var t,o;if(e.is(n)&&(e.is(n.selectedNodeIds)&&e.is(n.selectedNodeIds.length>0)&&n.selectedNodeIds.forEach(function(e){i.unSelectNode(e)}),e.is(n.changed)))if(e.is(n.changed.childOccurencePath)){if(t=i.getNodeModel(n.changed.childOccurencePath),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)if(t[o].getAbsolutePath().join()===n.changed.childOccurencePath.join()){t[o].select();break}}else if(t=i.getNodeModel(n.changed.nodeId),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)t[o].isRoot(!0)&&t[o].select()},G=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=a.getReferenceModel(e[0]);w(t)&&n.push(e)}),n.length>0&&Z.onAddOccurrence(n)},{listenTo:function(){return e.extend(Z.listenTo(),{addReference:U,addConnection:W,addOccurrece:G,removeReference:x,removeInstance:x,removeConnection:j,changeReference:V,changeInstance:V,changeConnection:V,addRootNode:F,reparentInstances:K,reparentBegin:H,reparentEnd:X,EGraphNodeSelect:z})},onStart:function(n){if(Z.onStart(n),!n.pprTypes||!n.linkTypes)throw new Error(t.getId()+": RoutingsModule initialization failed");q=n.pprTypes,J=n.linkTypes,Q=e.is(n.loadConectedObjLinkTypes)?n.loadConectedObjLinkTypes:[],L=e.is(n.displayBadge)?n.displayBadge:null,M=e.is(n.displayBadgePS)?n.displayBadgePS:null},onStop:function(){Z.onStop()}}}}});